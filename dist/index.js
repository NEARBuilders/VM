!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("react"));else if("function"==typeof define&&define.amd)define(["react"],t);else{var r="object"==typeof exports?t(require("react")):t(e.React);for(var n in r)("object"==typeof exports?exports:e)[n]=r[n]}}(global,e=>(()=>{"use strict";var t={8764:function(e,t,r){let n=r(1238),i=r(5665),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=s,t.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},t.INSPECT_MAX_BYTES=50;t.kMaxLength=2147483647,s.TYPED_ARRAY_SUPPORT=function(){try{let e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),!s.TYPED_ARRAY_SUPPORT&&"undefined"!=typeof console&&"function"==typeof console.error&&console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support.");function a(e){if(e>2147483647)throw RangeError('The value "'+e+'" is invalid for option "size"');let t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return u(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e)return function(e,t){if(("string"!=typeof t||""===t)&&(t="utf8"),!s.isEncoding(t))throw TypeError("Unknown encoding: "+t);let r=0|p(e,t),n=a(r),i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(M(e,Uint8Array)){let t=new Uint8Array(e);return h(t.buffer,t.byteOffset,t.byteLength)}return f(e)}(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(M(e,ArrayBuffer)||e&&M(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(M(e,SharedArrayBuffer)||e&&M(e.buffer,SharedArrayBuffer)))return h(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');let n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return s.from(n,t,r);let i=function(e){if(s.isBuffer(e)){let t=0|d(e.length),r=a(t);return 0===r.length?r:(e.copy(r,0,0,t),r)}if(void 0!==e.length)return"number"!=typeof e.length||function(e){return e!=e}(e.length)?a(0):f(e);if("Buffer"===e.type&&Array.isArray(e.data))return f(e.data)}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function c(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array);function u(e){return c(e),a(e<0?0:0|d(e))}s.alloc=function(e,t,r){var n,i,o;return n=e,i=t,o=r,(c(n),n<=0)?a(n):void 0!==i?"string"==typeof o?a(n).fill(i,o):a(n).fill(i):a(n)},s.allocUnsafe=function(e){return u(e)},s.allocUnsafeSlow=function(e){return u(e)};function f(e){let t=e.length<0?0:0|d(e.length),r=a(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function h(e,t,r){let n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),s.prototype),n}function d(e){if(e>=2147483647)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+"7fffffff bytes");return 0|e}function p(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||M(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);let r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return U(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return R(e).length;default:if(i)return n?-1:U(e).length;t=(""+t).toLowerCase(),i=!0}}function g(e,t,r){let i=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0))return"";for(!e&&(e="utf8");;)switch(e){case"hex":return function(e,t,r){let n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=F[e[n]];return i}(this,t,r);case"utf8":case"utf-8":return b(this,t,r);case"ascii":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":return function(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){let n=e.slice(t,r),i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}(this,t,r);default:if(i)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),i=!0}}function m(e,t,r){let n=e[t];e[t]=e[r],e[r]=n}function v(e,t,r,n,i){if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),function(e){return e!=e}(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return -1;r=e.length-1}else if(r<0){if(!i)return -1;r=0}if("string"==typeof t&&(t=s.from(t,n)),s.isBuffer(t))return 0===t.length?-1:y(e,t,r,n,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)return i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r);return y(e,[t],r,n,i)}throw TypeError("val must be string, number or Buffer")}function y(e,t,r,n,i){let o,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;a=2,s/=2,l/=2,r/=2}function c(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){let n=-1;for(o=r;o<s;o++)if(c(e,o)===c(t,-1===n?0:o-n)){if(-1===n&&(n=o),o-n+1===l)return n*a}else -1!==n&&(o-=o-n),n=-1}else for(r+l>s&&(r=s-l),o=r;o>=0;o--){let r=!0;for(let n=0;n<l;n++)if(c(e,o+n)!==c(t,n)){r=!1;break}if(r)return o}return -1}s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(M(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),M(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){let r;if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;let n=s.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){let t=e[r];if(M(t,Uint8Array))i+t.length>n.length?(!s.isBuffer(t)&&(t=s.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else if(s.isBuffer(t))t.copy(n,i);else throw TypeError('"list" argument must be an Array of Buffers');i+=t.length}return n},s.byteLength=p,s.prototype._isBuffer=!0,s.prototype.swap16=function(){let e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)m(this,t,t+1);return this},s.prototype.swap32=function(){let e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)m(this,t,t+3),m(this,t+1,t+2);return this},s.prototype.swap64=function(){let e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)m(this,t,t+7),m(this,t+1,t+6),m(this,t+2,t+5),m(this,t+3,t+4);return this},s.prototype.toString=function(){let e=this.length;return 0===e?"":0==arguments.length?b(this,0,e):g.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){let e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(s.prototype[o]=s.prototype.inspect),s.prototype.compare=function(e,t,r,n,i){if(M(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;let o=i-n,a=r-t,l=Math.min(o,a),c=this.slice(n,i),u=e.slice(t,r);for(let e=0;e<l;++e)if(c[e]!==u[e]){o=c[e],a=u[e];break}return o<a?-1:a<o?1:0},s.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},s.prototype.indexOf=function(e,t,r){return v(this,e,t,r,!0)},s.prototype.lastIndexOf=function(e,t,r){return v(this,e,t,r,!1)};s.prototype.write=function(e,t,r,n){var i,o,a,s,l,c,u,f,h,d,p,g,m,v,y,b;if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");let w=this.length-t;if((void 0===r||r>w)&&(r=w),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");!n&&(n="utf8");let E=!1;for(;;)switch(n){case"hex":return function(e,t,r,n){let i;r=Number(r)||0;let o=e.length-r;n?(n=Number(n))>o&&(n=o):n=o;let a=t.length;for(n>a/2&&(n=a/2),i=0;i<n;++i){let n=parseInt(t.substr(2*i,2),16);if(function(e){return e!=e}(n))break;e[r+i]=n}return i}(this,e,t,r);case"utf8":case"utf-8":;return i=this,o=e,a=t,s=r,j(U(o,i.length-a),i,a,s);case"ascii":case"latin1":case"binary":;return l=this,c=e,u=t,f=r,j(function(e){let t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(c),l,u,f);case"base64":;return h=this,d=e,p=t,g=r,j(R(d),h,p,g);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":;return m=this,v=e,y=t,b=r,j(function(e,t){let r,n,i;let o=[];for(let a=0;a<e.length&&!((t-=2)<0);++a)n=(r=e.charCodeAt(a))>>8,i=r%256,o.push(i),o.push(n);return o}(v,m.length-y),m,y,b);default:if(E)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),E=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function b(e,t,r){r=Math.min(e.length,r);let n=[],i=t;for(;i<r;){let t=e[i],o=null,a=t>239?4:t>223?3:t>191?2:1;if(i+a<=r){let r,n,s,l;switch(a){case 1:t<128&&(o=t);break;case 2:(192&(r=e[i+1]))==128&&(l=(31&t)<<6|63&r)>127&&(o=l);break;case 3:r=e[i+1],n=e[i+2],(192&r)==128&&(192&n)==128&&(l=(15&t)<<12|(63&r)<<6|63&n)>2047&&(l<55296||l>57343)&&(o=l);break;case 4:r=e[i+1],n=e[i+2],s=e[i+3],(192&r)==128&&(192&n)==128&&(192&s)==128&&(l=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&s)>65535&&l<1114112&&(o=l)}}null===o?(o=65533,a=1):o>65535&&(o-=65536,n.push(o>>>10&1023|55296),o=56320|1023&o),n.push(o),i+=a}return function(e){let t=e.length;if(t<=4096)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=4096));return r}(n)}function w(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function E(e,t,r,n,i,o){if(!s.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function S(e,t,r,n,i){O(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o,o>>=8,e[r++]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,r}function x(e,t,r,n,i){O(t,n,i,e,r,7);let o=Number(t&BigInt(4294967295));e[r+7]=o,o>>=8,e[r+6]=o,o>>=8,e[r+5]=o,o>>=8,e[r+4]=o;let a=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=a,a>>=8,e[r+2]=a,a>>=8,e[r+1]=a,a>>=8,e[r]=a,r+8}function k(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function _(e,t,r,n,o){return t=+t,r>>>=0,!o&&k(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function C(e,t,r,n,o){return t=+t,r>>>=0,!o&&k(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}s.prototype.slice=function(e,t){let r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);let n=this.subarray(e,t);return Object.setPrototypeOf(n,s.prototype),n},s.prototype.readUintLE=s.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,!r&&w(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n},s.prototype.readUintBE=s.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,!r&&w(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},s.prototype.readUint8=s.prototype.readUInt8=function(e,t){return e>>>=0,!t&&w(e,1,this.length),this[e]},s.prototype.readUint16LE=s.prototype.readUInt16LE=function(e,t){return e>>>=0,!t&&w(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUint16BE=s.prototype.readUInt16BE=function(e,t){return e>>>=0,!t&&w(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUint32LE=s.prototype.readUInt32LE=function(e,t){return e>>>=0,!t&&w(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},s.prototype.readUint32BE=s.prototype.readUInt32BE=function(e,t){return e>>>=0,!t&&w(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readBigUInt64LE=L(function(e){B(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&T(e,this.length-8);let n=t+256*this[++e]+65536*this[++e]+16777216*this[++e],i=this[++e]+256*this[++e]+65536*this[++e]+16777216*r;return BigInt(n)+(BigInt(i)<<BigInt(32))}),s.prototype.readBigUInt64BE=L(function(e){B(e>>>=0,"offset");let t=this[e],r=this[e+7];(void 0===t||void 0===r)&&T(e,this.length-8);let n=16777216*t+65536*this[++e]+256*this[++e]+this[++e],i=16777216*this[++e]+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)}),s.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,!r&&w(e,t,this.length);let n=this[e],i=1,o=0;for(;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},s.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,!r&&w(e,t,this.length);let n=t,i=1,o=this[e+--n];for(;n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return(e>>>=0,!t&&w(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,!t&&w(e,2,this.length);let r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt16BE=function(e,t){e>>>=0,!t&&w(e,2,this.length);let r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},s.prototype.readInt32LE=function(e,t){return e>>>=0,!t&&w(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,!t&&w(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readBigInt64LE=L(function(e){B(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&T(e,this.length-8),(BigInt(this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24))<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+16777216*this[++e])}),s.prototype.readBigInt64BE=L(function(e){B(e>>>=0,"offset");let t=this[e],r=this[e+7];return(void 0===t||void 0===r)&&T(e,this.length-8),(BigInt((t<<24)+65536*this[++e]+256*this[++e]+this[++e])<<BigInt(32))+BigInt(16777216*this[++e]+65536*this[++e]+256*this[++e]+r)}),s.prototype.readFloatLE=function(e,t){return e>>>=0,!t&&w(e,4,this.length),i.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,!t&&w(e,4,this.length),i.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,!t&&w(e,8,this.length),i.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,!t&&w(e,8,this.length),i.read(this,e,!1,52,8)},s.prototype.writeUintLE=s.prototype.writeUIntLE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;E(this,e,t,r,n,0)}let i=1,o=0;for(this[t]=255&e;++o<r&&(i*=256);)this[t+o]=e/i&255;return t+r},s.prototype.writeUintBE=s.prototype.writeUIntBE=function(e,t,r,n){if(e=+e,t>>>=0,r>>>=0,!n){let n=Math.pow(2,8*r)-1;E(this,e,t,r,n,0)}let i=r-1,o=1;for(this[t+i]=255&e;--i>=0&&(o*=256);)this[t+i]=e/o&255;return t+r},s.prototype.writeUint8=s.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,!r&&E(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUint16LE=s.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,!r&&E(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUint16BE=s.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,!r&&E(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUint32LE=s.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,!r&&E(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUint32BE=s.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,!r&&E(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigUInt64LE=L(function(e,t=0){return S(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeBigUInt64BE=L(function(e,t=0){return x(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))}),s.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);E(this,e,t,r,n-1,-n)}let i=0,o=1,a=0;for(this[t]=255&e;++i<r&&(o*=256);)e<0&&0===a&&0!==this[t+i-1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},s.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){let n=Math.pow(2,8*r-1);E(this,e,t,r,n-1,-n)}let i=r-1,o=1,a=0;for(this[t+i]=255&e;--i>=0&&(o*=256);)e<0&&0===a&&0!==this[t+i+1]&&(a=1),this[t+i]=(e/o>>0)-a&255;return t+r},s.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,!r&&E(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,!r&&E(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,!r&&E(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,!r&&E(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,!r&&E(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeBigInt64LE=L(function(e,t=0){return S(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeBigInt64BE=L(function(e,t=0){return x(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))}),s.prototype.writeFloatLE=function(e,t,r){return _(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){return _(this,e,t,!1,r)},s.prototype.writeDoubleLE=function(e,t,r){return C(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return C(this,e,t,!1,r)},s.prototype.copy=function(e,t,r,n){if(!s.isBuffer(e))throw TypeError("argument should be a Buffer");if(!r&&(r=0),!n&&0!==n&&(n=this.length),t>=e.length&&(t=e.length),!t&&(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);let i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},s.prototype.fill=function(e,t,r,n){let i;if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){let t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,!e&&(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{let o=s.isBuffer(e)?e:s.from(e,n),a=o.length;if(0===a)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=o[i%a]}return this};let I={};function N(e,t,r){I[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function A(e){let t="",r=e.length,n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}N("ERR_BUFFER_OUT_OF_BOUNDS",function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"},RangeError),N("ERR_INVALID_ARG_TYPE",function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`},TypeError),N("ERR_OUT_OF_RANGE",function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>4294967296?i=A(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=A(i)),i+="n"),n+=` It must be ${t}. Received ${i}`},RangeError);function O(e,t,r,n,i,o){var a,s,l;if(e>r||e<t){let n;let i="bigint"==typeof t?"n":"";throw n=o>3?0===t||t===BigInt(0)?`>= 0${i} and < 2${i} ** ${(o+1)*8}${i}`:`>= -(2${i} ** ${(o+1)*8-1}${i}) and < 2 ** ${(o+1)*8-1}${i}`:`>= ${t}${i} and <= ${r}${i}`,new I.ERR_OUT_OF_RANGE("value",n,e)}a=n,s=i,l=o,B(s,"offset"),(void 0===a[s]||void 0===a[s+l])&&T(s,a.length-(l+1))}function B(e,t){if("number"!=typeof e)throw new I.ERR_INVALID_ARG_TYPE(t,"number",e)}function T(e,t,r){if(Math.floor(e)!==e)throw B(e,r),new I.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new I.ERR_BUFFER_OUT_OF_BOUNDS;throw new I.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}let P=/[^+/0-9A-Za-z-_]/g;function U(e,t){let r;t=t||1/0;let n=e.length,i=null,o=[];for(let a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&o.push(239,191,189);continue}if(a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function R(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(P,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function j(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function M(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function q(e){return e!=e}let F=function(){let e="0123456789abcdef",t=Array(256);for(let r=0;r<16;++r){let n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function L(e){return"undefined"==typeof BigInt?D:e}function D(){throw Error("BigInt not supported")}},926:function(e,t,r){r.d(t,{A:function(){return k},w:function(){return x}});var n=r(6366),i=r(3954),o=r(2332),a=r(6310),s=r(6149),l=r(6282),c=r(359),u=r.n(c),f=r(9760),h=r(8818),d=r(9306),p=r.n(d),g=r(3352),m=r(8044),v=r(358),y=r(2935),b=r(400),w=e=>{var t=JSON.stringify(e,null,2);return`\`\`\`json
${t}
\`\`\``},E={page:"commit"},S={WritePermission:"write_permission"},x=e=>{var t,r,i,o,a,d,x,k,_,C,I,N=(0,m.Tk)(e.networkId),A=(0,b.FE)(e.networkId),O=(0,y.Y)(),B=(0,s._)((0,c.useState)(!1),2),T=B[0],P=B[1],U=(0,s._)((0,c.useState)(0),2),R=U[0],j=U[1],M=(0,s._)((0,c.useState)(!1),2),q=M[0],F=M[1],L=(0,s._)((0,c.useState)(null),2),D=L[0],$=L[1],J=(0,s._)((0,c.useState)(null),2),G=J[0],V=J[1],z=(0,s._)((0,c.useState)(null),2),K=z[0],W=z[1],H=(0,s._)((0,c.useState)(!0),2),X=H[0],Y=H[1],Z=e.show,Q=e.onHide,ee=()=>{if(e.onCancel)try{e.onCancel()}catch(e){console.error(e)}Q()},et=e.data,er=e.force,en=e.widgetSrc;(0,c.useEffect)(()=>{en?(W(null),O.asyncLocalStorageGet(E,{widgetSrc:en,accountId:A,type:S.WritePermission}).then(e=>W(e))):W(!1)},[en,A,O,Z]),(0,c.useEffect)(()=>{Y(!1!==K)},[K]),(0,c.useEffect)(()=>{if(q||!Z||!A||!N)return;var e=JSON.stringify(null!=et?et:null);if(!!er||e!==D)$(e),V(null),(0,f.tP)(N,A,et,er).then(V)},[q,et,D,er,N,A,Z]);var ei=(t=(0,n._)(function(){var t,r;return(0,l._)(this,function(n){switch(n.label){case 0:if(F(!0),t=X&&(0,h.computeWritePermission)(K,G.data[A]),O.localStorageSet(E,{widgetSrc:en,accountId:A,type:S.WritePermission},t),W(t),r=G.deposit.add(h.StorageCostPerByte.mul(R)),!G.permissionGranted)return[3,2];return[4,(0,f.hu)(N,G.data,r)];case 1:case 3:return n.sent(),[3,5];case 2:if(A!==N.accountId)return[3,4];return[4,(0,f.xR)(N,G.data,r)];case 4:alert("No permission to commit under given account"),n.label=5;case 5:if(V(null),$(null),e.onCommit)try{e.onCommit(G.data)}catch(e){console.error(e)}return O.invalidateCache(N,G.data),Q(),F(!1),[2]}})}),function(){return t.apply(this,arguments)}),eo=G&&!G.permissionGranted&&A!==N.accountId;!q&&!eo&&!T&&G&&Z&&K&&G.data&&G.deposit.add(h.StorageCostPerByte.mul(R)).eq(0)&&G.permissionGranted&&JSON.stringify((0,h.computeWritePermission)(K,G.data[A]))===JSON.stringify(K)&&(P(!0),ei().then(()=>P(!1)));var ea={authorIds:null!==(_=null==N?void 0:null===(i=N.features)||void 0===i?void 0:null===(r=i.commitModalBypass)||void 0===r?void 0:r.authorIds)&&void 0!==_?_:[],sources:null!==(C=null==N?void 0:null===(a=N.features)||void 0===a?void 0:null===(o=a.commitModalBypass)||void 0===o?void 0:o.sources)&&void 0!==C?C:[],bypassAll:!!(null!==(I=null==N?void 0:null===(x=N.features)||void 0===x?void 0:null===(d=x.commitModalBypass)||void 0===d?void 0:d.bypassAll)&&void 0!==I&&I)},es=(0,s._)((null!=en?en:"").split("/"),1)[0],el=ea.bypassAll||!!es&&ea.authorIds.indexOf(es)>-1||!!en&&ea.sources.indexOf(en.split("@")[0])>-1,ec=!eo&&el,eu=!!G&&Z&&!T&&null!==K,ef=eu&&!ec;return(0,c.useEffect)(()=>{eu&&ec&&!q&&ei()},[eu,ec,q]),u().createElement(p(),{size:"xl",centered:!0,scrollable:!0,show:ef,onHide:ee},u().createElement(p().Header,{closeButton:!0},u().createElement(p().Title,null,"Saving data")),u().createElement(p().Body,null,eo?u().createElement("div",null,u().createElement("h5",null,"Can't commit, because the account ",N.accountId," doesn't have permission to write under pretended account ",A)):G?u().createElement("div",null,u().createElement("div",null,G.data?u().createElement(g.U,{text:w(G.data)}):u().createElement("h5",null,"No new data to save")),G.data&&(null==G?void 0:null===(k=G.deposit)||void 0===k?void 0:k.gt(0))&&u().createElement("div",null,u().createElement("h6",null,"Required storage deposit"," ",u().createElement("small",{className:"text-secondary"},"(can be recovered later)")),u().createElement("div",{className:"mb-2"},G.deposit.div(h.StorageCostPerByte).toFixed(0)," bytes ="," ",(0,h.displayNear)(G.deposit)),u().createElement("h6",null,"Optional storage deposit"," ",u().createElement("small",{className:"text-secondary"},"(can be used to avoid future wallet TX confirmation)")),u().createElement("div",null,u().createElement(v.ToggleButtonGroup,{type:"radio",name:"storageDeposit",value:R,onChange:j,disabled:q},u().createElement(v.ToggleButton,{id:"esd-0",variant:"outline-success",value:0},"No Deposit"),u().createElement(v.ToggleButton,{id:"esd-5000",variant:"outline-success",value:5e3},"0.05 NEAR (5Kb)"),u().createElement(v.ToggleButton,{id:"esd-20000",variant:"outline-success",value:2e4},"0.2 NEAR (20Kb)"),u().createElement(v.ToggleButton,{id:"esd-100000",variant:"outline-success",value:1e5},"1 NEAR (100Kb)")))),!eo&&en&&G.data&&u().createElement("div",{className:"form-check form-switch"},u().createElement("input",{className:"form-check-input",type:"checkbox",role:"switch",id:"dont-ask-for-widget",checked:X,onChange:e=>{Y(e.target.checked)}}),u().createElement("label",{className:"form-check-label",htmlFor:"dont-ask-for-widget"},"Don't ask again for saving similar data by"," ",u().createElement("span",{className:"font-monospace"},en)))):h.Loading),u().createElement(p().Footer,null,u().createElement("button",{className:"btn btn-success",disabled:!(null==G?void 0:G.data)||q||eo,onClick:e=>{e.preventDefault(),ei()}},q&&h.Loading," Save Data"),u().createElement("button",{className:"btn btn-secondary",onClick:ee,disabled:q},"Close")))},k=e=>{var t=(0,b.FE)(e.networkId),r=e.data,n=e.children,l=e.onClick,f=e.onCommit,d=e.onCancel,p=e.disabled,g=e.widgetSrc,m=e.force,v=(0,a._)(e,["data","children","onClick","onCommit","onCancel","disabled","widgetSrc","force"]),y=(0,s._)((0,c.useState)(null),2),w=y[0],E=y[1];return u().createElement(u().Fragment,null,u().createElement("button",(0,o._)((0,i._)({},v),{disabled:p||!r||!!w||!t,onClick:e=>{e.preventDefault(),E("function"==typeof r?r():r),l&&l()}}),!!w&&h.Loading,n),u().createElement(x,{show:!!w,widgetSrc:g,data:w,force:m,onHide:()=>E(null),onCancel:d,onCommit:f}))}},5481:function(e,t,r){r.d(t,{Z:function(){return C}});var n=r(6366),i=r(6149),o=r(6282),a=r(359),s=r.n(a),l=r(9306),c=r.n(l),u=r(2899),f=r.n(u),h=r(972),d=r.n(h),p=r(871),g=r.n(p),m=r(3352),v=r(8818),y=r(8044),b=r(2935),w=r(400),E=r(1295),S=r.n(E),x=e=>{var t=JSON.stringify(e,null,2);return`\`\`\`json
${t}
\`\`\``},k={page:"confirm_transactions"},_={SendTransactionWithoutConfirmation:"send_transaction_without_confirmation"};function C(e){var t,r,l,u,h,p=(0,a.useState)(S()()),E=(0,y.Tk)(e.networkId);(0,w.FE)(e.networkId);var C=(0,b.Y)(),I=(0,i._)((0,a.useState)(!1),2),N=I[0],A=I[1],O=(0,i._)((0,a.useState)(e.transactions),1)[0],B=(0,i._)((0,a.useState)(null),2),T=B[0],P=B[1],U=(0,i._)((0,a.useState)(!1),2),R=U[0],j=U[1],M=(0,i._)((0,a.useState)(null),2),q=M[0],F=M[1],L=e.widgetSrc,D=!!(null!==(h=null==E?void 0:null===(u=E.features)||void 0===u?void 0:u.bypassTransactionConfirmation)&&void 0!==h&&h);var $=(t=(0,n._)(function(e,t){return(0,o._)(this,function(r){switch(r.label){case 0:return[4,C.asyncLocalStorageGet(k,{widgetSrc:e,contractId:t,type:_.SendTransactionWithoutConfirmation})];case 1:return[2,r.sent()]}})}),function(e,r){return t.apply(this,arguments)}),J=D||O[0].contractName!==E.contract.contractId&&1===O.length&&!(O[0].deposit&&O[0].deposit.gt(0));(0,a.useEffect)(()=>{(0,n._)(function(){var e,t,r,n,i;return(0,o._)(this,function(o){switch(o.label){case 0:if(!J)return[3,5];return e=O[0].contractName,[4,E.isSignedIntoContract(e)];case 1:return t=o.sent(),[4,$(L,e)];case 2:if(r=o.sent(),P(n=D||!!(t&&r&&r[O[0].methodName])),!n)return[3,4];return A(!0),[4,E.sendTransactions(O)];case 3:i=o.sent(),A(!1),G(i),o.label=4;case 4:return[3,6];case 5:P(!1),o.label=6;case 6:return[2]}})})()},[]);var G=e.onHide,V=!!O;var z=(r=(0,n._)(function(){return(0,o._)(this,function(e){return j(!R),F(null),[2]})}),function(){return r.apply(this,arguments)});if(null===T)return s().createElement(s().Fragment,null);if(T){var K=O[0];return s().createElement(g(),{position:"bottom-end",className:"position-fixed"},s().createElement(d(),{show:V,bg:"info"},s().createElement(d().Header,null,"Sending transaction ",v.Loading),s().createElement(d().Body,null,"Calling contract"," ",s().createElement("span",{className:"font-monospace"},K.contractName)," ","with method"," ",s().createElement("span",{className:"font-monospace"},K.methodName))))}return s().createElement(c(),{size:"xl",centered:!0,scrollable:!0,show:V,onHide:G},s().createElement(c().Header,{closeButton:!0},s().createElement(c().Title,null,"Confirm Transaction")),s().createElement(c().Body,null,O&&O.map((e,t)=>s().createElement("div",{key:`${p}-${t}`},s().createElement("div",null,s().createElement("h4",null,"Transaction #",t+1)),s().createElement("div",null,s().createElement("span",{className:"text-secondary"},"Contract ID: "),s().createElement("span",{className:"font-monospace"},e.contractName)),s().createElement("div",null,s().createElement("span",{className:"text-secondary"},"Method name: "),s().createElement("span",{className:"font-monospace"},e.methodName)),e.deposit&&e.deposit.gt(0)&&s().createElement("div",null,s().createElement("span",{className:"text-secondary"},"Deposit: "),s().createElement("span",{className:"font-monospace"},(0,v.displayNear)(e.deposit))),s().createElement("div",null,s().createElement("span",{className:"text-secondary"},"Gas: "),s().createElement("span",{className:"font-monospace"},(0,v.displayGas)(e.gas))),s().createElement(m.U,{text:x(e.args)}))),J?s().createElement(s().Fragment,null,s().createElement("div",{class:"form-check form-switch"},s().createElement("input",{class:"form-check-input",type:"checkbox",id:"dontaskagaincheckbox",checked:R,onChange:()=>z()}),s().createElement("label",{class:"form-check-label",for:"dontaskagaincheckbox"},"Don't ask again for sending similar transactions by"," ",s().createElement("span",{className:"font-monospace"},L))),q?s().createElement(f(),{variant:"danger"},'There was an error when choosing "Don\'t ask again":'," ",q):s().createElement(s().Fragment,null)):s().createElement(s().Fragment,null)),s().createElement(c().Footer,null,s().createElement("button",{className:"btn btn-success",disabled:N,onClick:(l=(0,n._)(function(e){var t,r,n,i,a,s;return(0,o._)(this,function(o){switch(o.label){case 0:if(e.preventDefault(),A(!0),!R)return[3,7];return r=(t=O[0]).contractName,n=t.methodName,[4,$(L,r)];case 1:(i=o.sent()||{})[n]=!0,C.localStorageSet(k,{widgetSrc:L,contractId:r,type:_.SendTransactionWithoutConfirmation},i),o.label=2;case 2:return o.trys.push([2,6,,7]),[4,E.isSignedIntoContract(r)];case 3:if(o.sent())return[3,5];return[4,E.signInAndSetPendingTransaction(t)];case 4:return a=o.sent(),A(!1),G(a?a.find(e=>e.transaction.receiver_id===r):a),[2];case 5:return[3,7];case 6:return F(o.sent().message),A(!1),[2];case 7:return[4,E.sendTransactions(O)];case 8:return s=o.sent(),A(!1),G(s),[2]}})}),function(e){return l.apply(this,arguments)})},N&&v.Loading," Confirm"),s().createElement("button",{className:"btn btn-secondary",onClick:G,disabled:N},"Close")))}},3352:function(e,t,r){r.d(t,{U:function(){return m}});var n=r(3954),i=r(2332),o=r(6310),a=r(8344),s=r.n(a),l=r(3702),c=r.n(l),u=r(727),f=r(563),h=r(359),d=r.n(h),p=r(2161),g=r(9932),m=e=>{var t=e.onLink,r=e.onLinkClick,a=e.text,l=e.onMention,h=e.onHashtag,m=e.onImage,v=e.syntaxHighlighterProps;return d().createElement(c(),{plugins:[],rehypePlugins:[],remarkPlugins:[s(),p.Z,g.Z],children:a,components:{strong(e){var t,r,n,i,a=e.node,s=e.children,c=(0,o._)(e,["node","children"]);return l&&(null===(t=a.properties)||void 0===t?void 0:t.accountId)?l(null===(n=a.properties)||void 0===n?void 0:n.accountId):h&&(null===(r=a.properties)||void 0===r?void 0:r.hashtag)?h(null===(i=a.properties)||void 0===i?void 0:i.hashtag):d().createElement("strong",c,s)},a:e=>{var a,s=e.node,l=(0,o._)(e,["node"]);return t?t((0,i._)((0,n._)({},l),{href:null===(a=s.properties)||void 0===a?void 0:a.href})):r?d().createElement("a",(0,n._)({onClick:r},l)):d().createElement("a",(0,n._)({target:"_blank"},l))},img:e=>{e.node;var t=(0,o._)(e,["node"]);return m?m((0,n._)({},t)):d().createElement("img",(0,n._)({className:"img-fluid"},t))},blockquote:e=>{e.node;var t=(0,o._)(e,["node"]);return d().createElement("blockquote",(0,n._)({className:"blockquote"},t))},table:e=>{e.node;var t=(0,o._)(e,["node"]);return d().createElement("table",(0,n._)({className:"table table-striped"},t))},code(e){e.node;var t=e.inline,r=e.className,i=e.children,a=(0,o._)(e,["node","inline","className","children"]),s=/language-(\w+)/.exec(r||""),l=null!=v?v:{},c=l.wrapLines,h=l.lineProps,p=l.showLineNumbers,g=l.lineNumberStyle;return!t&&s?d().createElement(u.Prism,(0,n._)({children:String(i).replace(/\n$/,""),style:f.tomorrow,language:s[1],PreTag:"div",wrapLines:c,lineProps:h,showLineNumbers:p,lineNumberStyle:g},a)):d().createElement("code",(0,n._)({className:r},a),i)}}})}},5711:function(e,t,r){r.d(t,{Z:function(){return f}});var n=r(3954),i=r(2332),o=r(6149),a=r(359),s=r.n(a),l=r(7798),c=r.n(l),u=r(8818);function f(e){var t,r,l,f=e.className,h=e.id,d=e.style,p=e.src,g=e.srcDoc,m=e.title,v=e.message,y=e.onLoad,b=e.onMessage,w=e.iframeResizer,E={className:f,id:h,style:d,src:p,srcDoc:g,title:m},S=(0,o._)((0,a.useState)(!1),2),x=S[0],k=S[1],_=(0,o._)((0,a.useState)(void 0),2),C=_[0],I=_[1],N=s().useRef(),A="allow-scripts",O=(0,a.useCallback)(e=>{if(e.source===N.current.contentWindow)b&&b(e.data)},[N,b]),B=()=>{k(!0),y&&y()};if((0,a.useEffect)(()=>(window.addEventListener("message",O,!1),()=>{window.removeEventListener("message",O,!1)}),[O]),(0,a.useEffect)(()=>{if(N.current&&x&&!(0,u.deepEqual)(C,v)){if(I((0,u.deepCopy)(v)),w){N.current.sendMessage(v,"*");return}N.current.contentWindow.postMessage(v,"*")}},[v,N,x,C]),(0,a.useEffect)(()=>{k(!1)},[p,g]),w){;return s().createElement(c(),(0,i._)((0,n._)({},(t=(0,i._)((0,n._)({},E),{style:null!=d?d:{width:"1px",minWidth:"100%"},checkOrigin:!1}),l=["log","autoResize","bodyBackground","bodyMargin","bodyPadding","inPageLinks","heightCalculationMethod","maxHeight","maxWidth","minHeight","minWidth","minWidth","resizeFrom","scrolling","sizeHeight","sizeWidth","tolerance","widthCalculationMethod"],Object.keys(r="object"==typeof w?w:{}).forEach(e=>{l.includes(e)&&(t[e]=r[e])}),r.onResized&&(t.onResized=e=>{var t=e.height,n=e.width;r.onResized({height:t,width:n})}),t)),{forwardRef:N,sandbox:A,onLoad:B}))}return s().createElement("iframe",(0,i._)((0,n._)({},E),{ref:N,sandbox:A,onLoad:B}))}},8930:function(e,t,r){r.d(t,{$:function(){return S}});var n=r(3954),i=r(2332),o=r(6310),a=r(6149),s=r(359),l=r.n(s),c=r(8044),u=r(5481),f=r(2095),h=r(8818),d=r(5184),p=r(2935),g=r(926),m=r(400),v=r(2575),y=r.n(v),b=r(1295),w=r.n(b),E=r(56),S=l().forwardRef((e,t)=>{var r,v=e.loading,b=e.src,S=e.code,x=e.depth,k=e.config,_=e.props,C=(0,o._)(e,["loading","src","code","depth","config","props"]),I=(0,a._)((0,s.useState)(0),2),N=I[0],A=I[1],O=(0,a._)((0,s.useState)(null),2),B=O[0],T=O[1],P=(0,a._)((0,s.useState)(null),2),U=P[0],R=P[1],j=(0,a._)((0,s.useState)({hooks:[],state:void 0}),2),M=j[0],q=j[1],F=(0,a._)((0,s.useState)(0),2),L=F[0],D=F[1],$=(0,a._)((0,s.useState)({}),2),J=$[0],G=$[1],V=(0,a._)((0,s.useState)(null),2),z=V[0],K=V[1],W=(0,a._)((0,s.useState)(null),2),H=W[0],X=W[1],Y=(0,a._)((0,s.useState)(null),2),Z=Y[0],Q=Y[1],ee=(0,a._)((0,s.useState)(null),2),et=ee[0],er=ee[1],en=(0,a._)((0,s.useState)(null),2),ei=en[0],eo=en[1],ea=(0,a._)((0,s.useState)(null),2),es=ea[0],el=ea[1],ec=(0,s.useContext)(E.S),eu=ei&&(null===(r=ei.findLast(e=>e&&e.networkId))||void 0===r?void 0:r.networkId),ef=(0,p.Y)(eu),eh=(0,c.Tk)(eu),ed=(0,m.FE)(eu),ep=(0,a._)((0,s.useState)(null),2),eg=ep[0],em=ep[1];(0,s.useEffect)(()=>{var e=k?Array.isArray(k)?k:[k]:[];!(0,h.deepEqual)(e,ei)&&eo(e)},[k,ei]),(0,s.useEffect)(()=>{var e=(0,h.computeSrcOrCode)(b,S,ei);!(0,h.deepEqual)(e,es)&&el(e)},[b,S,ei,es]),(0,s.useEffect)(()=>{if(!!eh)if(null==es?void 0:es.src){var e,t=es.src,r=(0,a._)(t.split("@"),2),n=r[0],i=r[1];T(ef.socialGet(eh,n.toString(),!1,i,void 0,()=>{A(N+1)})),R(t)}else(null==es?void 0:es.code)&&(T(es.code),R((null==eh?void 0:null===(e=eh.features)||void 0===e?void 0:e.enableWidgetSrcWithCodeOverride)?b:null))},[eh,es,N]),(0,s.useEffect)(()=>{K(null),em(null),!B&&void 0===B&&(eh.config.errorCallback({scope:h.ErrorScopes.Source,message:U}),em(l().createElement("div",{className:"alert alert-danger"},'Source code for "',U,'" is not found')))},[B,U]);var ev=(0,s.useCallback)(e=>{if(!eh||!e||0===e.length)return null;console.log("confirm txs",e=e.map(e=>({contractName:e.contractName,methodName:e.methodName,args:e.args||{},deposit:e.deposit?y()(e.deposit):y()(0),gas:e.gas?y()(e.gas):h.TGas.mul(30)}))),X(e)},[eh]),ey=(0,s.useCallback)(e=>{if(!eh)return null;console.log("commit requested",e),Q(e)},[eh]);return(0,s.useEffect)(()=>{if(!!eh&&!!B){q({hooks:[],state:void 0});var e=new f.Z({near:eh,rawCode:B,setReactState:q,cache:ef,refreshCache:()=>{D(e=>e+1)},confirmTransactions:ev,depth:x,widgetSrc:U,requestCommit:ey,version:w()(),widgetConfigs:ei,ethersProviderContext:ec});return K(e),()=>{e.stop()}}},[U,eh,B,x,ey,ev,ei,ec]),(0,s.useEffect)(()=>{if(!!eh)G({loading:!1,accountId:null!=ed?ed:null,widgetSrc:U,networkId:eh.config.networkId})},[eh,ed,U]),(0,s.useLayoutEffect)(()=>{if(!z)return;var e,r={props:_||{},context:J,reactState:M,cacheNonce:L,version:z.version,forwardedProps:(0,i._)((0,n._)({},C),{ref:t})};if(!(0,h.deepEqual)(r,et)){er((0,h.deepCopy)(r));try{em(null!==(e=z.renderCode(r))&&void 0!==e?e:"Execution failed")}catch(e){var o=U?`${U}: ${e.message}`:e.message;eh.config.errorCallback({scope:h.ErrorScopes.Execution,message:o}),em(l().createElement("div",{className:"alert alert-danger"},U?l().createElement(l().Fragment,null,"Src: ",U,l().createElement("br",null)):"","Execution error:",l().createElement("pre",null,e.message),l().createElement("pre",null,e.stack))),console.error(e)}}},[z,_,J,M,L,et,t,C]),null!=eg?l().createElement(d.ErrorBoundary,{FallbackComponent:e=>{eh.config.errorCallback({scope:h.ErrorScopes.Boundary,message:U});var t=e.error,r=void 0===t?{message:h.ErrorScopes.Boundary}:t;return l().createElement(h.ErrorFallback,{error:r})},onReset:()=>{em(null)},resetKeys:[eg]},l().createElement(l().Fragment,null,eg,H&&l().createElement(u.Z,{transactions:H,widgetSrc:U,onHide:e=>{X(null),e&&e.transaction&&ef.invalidateCache(eh,e.transaction.receiver_id)},networkId:eu}),Z&&l().createElement(g.w,{show:!0,widgetSrc:U,data:Z.data,force:Z.force,onHide:()=>Q(null),onCommit:Z.onCommit,onCancel:Z.onCancel,networkId:eu}))):null!=v?v:h.Loading})},56:function(e,t,r){r.d(t,{S:function(){return a},a:function(){return s}});var n=r(6149),i=r(359),o=r.n(i),a=o().createContext(null),s=e=>{var t,r,s,l=(0,i.useContext)(a),c=(0,n._)((null==l?void 0:l.useConnectWallet)?null==l?void 0:l.useConnectWallet():[{}],3),u=c[0],f=u.wallet,h=u.connecting,d=c[1],p=c[2];return o().createElement("button",{className:`btn ${e.className} ${h||f?"btn-outline-secondary":"btn-outline-primary"}`,disabled:(f?!p:!d)||h,onClick:()=>f?null==p?void 0:p(f):null==d?void 0:d()},h?null!==(t=e.connectingLabel)&&void 0!==t?t:"Connecting":f?null!==(r=e.disconnectLabel)&&void 0!==r?r:"Disconnect Web3 Wallet":null!==(s=e.connectLabel)&&void 0!==s?s:"Connect Web3 Wallet")}},9932:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(5673),i=/#(\w+)/gi;function o(){function e(e,t,r){if(/[\w`]/.test(r.input.charAt(r.index-1))||/[/\w`]/.test(r.input.charAt(r.index+e.length)))return!1;var n={type:"text",value:e};return n={type:"strong",children:[n],data:{hProperties:{hashtag:t}}}}return function(t){return(0,n.findAndReplace)(t,i,e),t}}},2161:function(e,t,r){r.d(t,{Z:function(){return o}});var n=r(5673),i=/@((?:(?:[a-z\d]+[-_])*[a-z\d]+\.)*(?:[a-z\d]+[-_])*[a-z\d]+)/gi;function o(){function e(e,t,r){if(/[\w`]/.test(r.input.charAt(r.index-1))||/[/\w`]/.test(r.input.charAt(r.index+e.length))||t.length<2||t.length>64)return!1;var n={type:"text",value:e};return n={type:"strong",children:[n],data:{hProperties:{accountId:t}}}}return function(t){return(0,n.findAndReplace)(t,i,e),t}}},400:function(e,t,r){r.d(t,{FE:function(){return k},mA:function(){return x}});var n,i,o,a,s,l=r(6366),c=r(6149),u=r(6282),f=r(6175),h=r(359),d=r(8044),p=r(2607),g=r.n(p),m=r(7606),v="near-social-vm:v01:",y=v+":accountId:",b=v+":pretendAccountId:",w={loading:!0,signedAccountId:null!==(i=g().get(y))&&void 0!==i?i:void 0,pretendAccountId:null!==(o=g().get(b))&&void 0!==o?o:void 0,accountId:null!==(s=null!==(a=g().get(b))&&void 0!==a?a:g().get(y))&&void 0!==s?s:void 0,state:null,near:null};function E(){return(E=(0,l._)(function(e,t){var r,n,i,o,a,s;return(0,u._)(this,function(l){switch(l.label){case 0:if(e.connectedContractId=null==t?void 0:null===(r=t.contract)||void 0===r?void 0:r.contractId,!(e.connectedContractId&&e.connectedContractId!==e.config.contractName&&e.connectedContractId!==e.config.allowExternalContract))return[3,4];return[4,e.selector];case 1:return[4,(o=l.sent()).wallet()];case 2:return[4,l.sent().signOut()];case 3:l.sent(),e.connectedContractId=null,t=o.store.getState(),l.label=4;case 4:if(e.accountId=null!==(a=null==t?void 0:null===(i=t.accounts)||void 0===i?void 0:null===(n=i[0])||void 0===n?void 0:n.accountId)&&void 0!==a?a:null,e.accountId){e.publicKey=null;try{(null==t?void 0:t.selectedWalletId)==="here-wallet"&&(s=g().get("herewallet:keystore"),e.publicKey=m.KeyPair.fromString(s[e.config.networkId].accounts[e.accountId]).getPublicKey())}catch(e){console.error(e)}if(!e.publicKey)try{e.publicKey=m.KeyPair.fromString(g().get((null==t?void 0:t.selectedWalletId)==="meteor-wallet"?`_meteor_wallet${e.accountId}:${e.config.networkId}`:`near-api-js:keystore:${e.accountId}:${e.config.networkId}`)).getPublicKey()}catch(e){console.error(e)}}return[2]}})})).apply(this,arguments)}var S=(n=(0,l._)(function(e,t){var r,n,i,o,a,s,f;return(0,u._)(this,function(h){switch(h.label){case 0:var d;if((r=e.accountId)?(g().set(y,r),e.config.walletConnectCallback(r)):g().remove(y),o={loading:!1,signedAccountId:r,pretendAccountId:i=null!==(n=g().get(b))&&void 0!==n?n:void 0,accountId:null!=i?i:r,state:null,near:e,refresh:(0,l._)(function(){return(0,u._)(this,function(r){switch(r.label){case 0:return[4,S(e,t)];case 1:return[2,r.sent()]}})}),startPretending:(d=(0,l._)(function(r){return(0,u._)(this,function(n){switch(n.label){case 0:return r?g().set(b,r):g().remove(b),[4,S(e,t)];case 1:return n.sent(),[2]}})}),function(e){return d.apply(this,arguments)})},!r)return[3,2];return[4,Promise.all([e.contract.storage_balance_of({account_id:r}),e.accountState(r)])];case 1:s=(a=c._.apply(void 0,[h.sent(),2]))[0],f=a[1],o.storageBalance=s,o.state=f,h.label=2;case 2:return t(o),[2]}})}),function(e,t){return n.apply(this,arguments)}),x=(0,f.singletonHook)(w,()=>{var e=(0,c._)((0,h.useState)(w),2),t=e[0],r=e[1],n=(0,d.Tk)();return(0,h.useEffect)(()=>{if(!!n)n.selector.then(e=>{var t;e.store.observable.subscribe((t=(0,l._)(function(e){return(0,u._)(this,function(t){switch(t.label){case 0:return[4,function(e,t){return E.apply(this,arguments)}(n,e)];case 1:t.sent(),t.label=2;case 2:return t.trys.push([2,4,,5]),[4,S(n,r)];case 3:return t.sent(),[3,5];case 4:return console.error(t.sent()),[3,5];case 5:return[2]}})}),function(e){return t.apply(this,arguments)}))})},[n]),t}),k=e=>{var t=(0,d.Tk)(),r=x();if(!!t&&(!e||t.config.networkId===e))return r.accountId}},2935:function(e,t,r){r.d(t,{Y:function(){return y}});var n=r(6366),i=r(6149),o=r(6282),a=r(8818),s=r(857),l=r(6175),c=r(8044),u={ViewCall:"ViewCall",Fetch:"Fetch",Block:"Block",LocalStorage:"LocalStorage",CustomPromise:"CustomPromise",EthersCall:"EthersCall"},f={NotStarted:"NotStarted",InProgress:"InProgress",Done:"Done",Invalidated:"Invalidated"},h="cache-v1";class d{invalidateCallbacks(e,t){var r;if(null===(r=e.invalidationCallbacks)||void 0===r?void 0:r.length){var n=e.invalidationCallbacks;e.invalidationCallbacks=[],setTimeout(()=>{n.forEach(e=>{try{e()}catch(e){}})},t?this.finalSynchronizationDelayMs+50:50)}}innerGet(e){var t=this;return(0,n._)(function(){return(0,o._)(this,function(r){switch(r.label){case 0:return[4,t.dbPromise];case 1:return[2,r.sent().get(h,e)]}})})()}innerSet(e,t){var r=this;return(0,n._)(function(){return(0,o._)(this,function(n){switch(n.label){case 0:return[4,r.dbPromise];case 1:return[2,n.sent().put(h,t,e)]}})})()}cachedPromise(e,t,r,n){e=JSON.stringify(e);var i=this.cache[e]||{status:f.NotStarted,invalidationCallbacks:[],result:null,time:new Date().getTime()};if(this.cache[e]=i,!(0,a.isObject)(r)&&(r={onInvalidate:r}),r.onInvalidate&&i.invalidationCallbacks.push(r.onInvalidate),!i.subscription&&r.subscribe){var o=()=>{i.subscription=setTimeout(()=>{document.hidden?o():(i.subscription=null,i.status=f.Invalidated,this.invalidateCallbacks(i,!1))},5e3)};o()}return i.status===f.InProgress||i.status===f.Done&&i.time+3e5>new Date().getTime()?i.result:(i.status===f.NotStarted&&!(null==n?void 0:n.ignoreCache)&&this.innerGet(e).then(e=>{(e||(null==n?void 0:n.forceCachedValue))&&i.status===f.InProgress&&(i.result=e,i.time=new Date().getTime(),this.invalidateCallbacks(i,!1))}),i.status=f.InProgress,t&&t().then(t=>{i.status=f.Done,i.time=new Date().getTime(),JSON.stringify(t)!==JSON.stringify(i.result)&&(i.result=t,this.innerSet(e,t),this.invalidateCallbacks(i,!1))}).catch(t=>{console.error(t),i.status=f.Done;var r=void 0;i.time=new Date().getTime(),JSON.stringify(r)!==JSON.stringify(i.result)&&(i.result=r,this.innerSet(e,r),this.invalidateCallbacks(i,!1))}),i.result)}invalidateCache(e,t){var r=[],n=`${e.config.apiUrl}/index`;Object.keys(this.cache).forEach(i=>{try{o=JSON.parse(i)}catch(e){console.error("Key deserialization failed",i);return}if(o.action!==u.ViewCall||o.contractId!==e.config.contractName||o.blockId&&"optimistic"!==o.blockId&&"final"!==o.blockId)o.action===u.ViewCall&&o.contractId===t&&r.push([i,"final"===o.blockId]);else try{;(null===(s=o.args)||void 0===s?void 0:s.keys).some(e=>(0,a.patternMatch)(o.methodName,e,t))&&r.push([i,"final"===o.blockId])}catch(e){}if(o.action===u.Fetch&&o.url===n)try{var o,s,l,c=JSON.parse(null===(l=o.options)||void 0===l?void 0:l.body),f=c.action,h=c.key;f&&h&&(0,a.indexMatch)(f,h,t)&&r.push([i,!0])}catch(e){}}),console.log("Cache invalidation",r),r.forEach(e=>{var t=(0,i._)(e,2),r=t[0],n=t[1],o=this.cache[r];o.status=f.Invalidated,this.invalidateCallbacks(o,n)})}cachedBlock(e,t,r,n){return this.cachedPromise({action:u.Block,blockId:t},()=>e.block(t),r,n)}cachedViewCall(e,t,r,n,i,o,a){return this.cachedPromise({action:u.ViewCall,contractId:t,methodName:r,args:n,blockId:i},()=>e.viewCall(t,r,n,i),o,a)}asyncFetch(e,t){return(0,n._)(function(){var r,n,i,a,s,l,c;return(0,o._)(this,function(o){switch(o.label){case 0:n=null==t?void 0:null===(r=t.responseType)||void 0===r?void 0:r.toLowerCase(),t={method:null==t?void 0:t.method,headers:null==t?void 0:t.headers,body:null==t?void 0:t.body},o.label=1;case 1:return o.trys.push([1,6,,7]),[4,fetch(e,t)];case 2:if(a=(i=o.sent()).status,s=i.ok,l=i.headers.get("content-type"),!s)return[3,4];return[4,"arraybuffer"===n?i.arrayBuffer():"blob"===n?i.blob():"formdata"===n?i.formData():"json"===n?i.json():"text"===n?i.text():l&&-1!==l.indexOf("application/json")?i.json():i.text()];case 3:return c=o.sent(),[3,5];case 4:c=void 0,o.label=5;case 5:return[2,{ok:s,status:a,contentType:l,body:c}];case 6:return[2,{ok:!1,error:o.sent().message}];case 7:return[2]}})})()}cachedFetch(e,t,r,n){return this.cachedPromise({action:u.Fetch,url:e,options:t},()=>this.asyncFetch(e,t),r,n)}cachedCustomPromise(e,t,r,n){return this.cachedPromise({action:u.CustomPromise,key:e},()=>t(),r,n)}socialGet(e,t,r,n,i,o,a){if(!e)return null;var s={keys:t=(t=Array.isArray(t)?t:[t]).map(e=>r?`${e}/**`:`${e}`),options:i},l=this.cachedViewCall(e,e.config.contractName,"get",s,n,o,a);if(null===l)return null;if(1===t.length){for(var c=t[0].split("/"),u=0;u<c.length;u++){var f=c[u];if("*"===f||"**"===f)break;l=null==l?void 0:l[f]}}return l}socialIndex(e,t,r,n,i,o){var a=this.cachedFetch(`${e.config.apiUrl}/index`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({action:t,key:r,options:n})},i,o);return(null==a?void 0:a.ok)?a.body:null}localStorageGet(e,t,r){return this.cachedPromise({action:u.LocalStorage,domain:e,key:t},void 0,r,{forceCachedValue:!0})}asyncLocalStorageGet(e,t){return t=JSON.stringify({action:u.LocalStorage,domain:e,key:t}),this.innerGet(t)}localStorageSet(e,t,r){t=JSON.stringify({action:u.LocalStorage,domain:e,key:t});var n=this.cache[t]||{status:f.NotStarted,invalidationCallbacks:[],result:null,time:new Date().getTime()};this.cache[t]=n,n.status=f.Done,JSON.stringify(r)!==JSON.stringify(n.result)&&(n.result=r,this.innerSet(t,r),this.invalidateCallbacks(n,!1))}cachedEthersCall(e,t,r,n,i){return e?this.cachedPromise({action:u.EthersCall,callee:t,args:r},()=>e[t](...r),n,i):null}constructor(e,t){this.dbPromise=(0,s.openDB)(void 0===e?"cacheDb":e,1,{upgrade(e){e.createObjectStore(h)}}),this.cache={},this.finalSynchronizationDelayMs=void 0===t?3e3:t}}var p=new d,g=new d("secondaryCacheDb"),m=(0,l.singletonHook)(p,()=>p),v=(0,l.singletonHook)(g,()=>g),y=e=>{var t=(0,c.Tk)(),r=m(),n=v();return e&&e!==t.config.networkId?n:r}},9760:function(e,t,r){r.d(t,{hu:function(){return w},tP:function(){return b},xR:function(){return E}});var n,i,o,a,s=r(6366),l=r(6149),c=r(6282),u=r(8818),f=r(2575),h=r.n(f),d=r(8044),p=u.StorageCostPerByte.mul(2e3),g=u.StorageCostPerByte.mul(500),m=u.StorageCostPerByte.mul(500),v=u.StorageCostPerByte.mul(500);var y=(n=(0,s._)(function(e,t){var r;return(0,c._)(this,function(n){switch(n.label){case 0:return r=(0,u.extractKeys)(t),[4,e.contract.get({keys:r})];case 1:return[2,n.sent()]}})}),function(e,t){return n.apply(this,arguments)});var b=(i=(0,s._)(function(e,t,r,n){var i,o,a,s,f,d,b,w,E;return(0,c._)(this,function(c){switch(c.label){case 0:return[4,e.selector];case 1:if(c.sent(),!(i=e.accountId))return alert("You're not logged in. Sign in to commit data."),[2];return[4,Promise.all([e.viewCall(e.config.contractName,"get_account_storage",{account_id:i}),i!==t?e.viewCall(e.config.contractName,"is_write_permission_granted",{predecessor_id:i,key:t}):Promise.resolve(!0)])];case 2:if(a=(o=l._.apply(void 0,[c.sent(),2]))[0],s=o[1],f=h()((null==a?void 0:a.available_bytes)||"0"),d={[t]:(0,u.convertToStringLeaves)(r)},b={},n)return[3,4];return[4,y(e,d)];case 3:b=c.sent(),d=(0,u.removeDuplicates)(d,b),c.label=4;case 4:return w=u.StorageCostPerByte.mul((0,u.estimateDataSize)(d,b)).add(a?h()(0):g).add(s?h()(0):v).add(m),E=(0,u.bigMax)(w.sub(f.mul(u.StorageCostPerByte)),a?s?h()(0):h()(1):p),[2,{originalData:r,accountId:t,accountStorage:a,availableBytes:f,currentData:b,data:d,expectedDataBalance:w,deposit:E,permissionGranted:s}]}})}),function(e,t,r,n){return i.apply(this,arguments)});var w=(o=(0,s._)(function(e,t,r){return(0,c._)(this,function(n){switch(n.label){case 0:return console.log("Committing data",t),[4,e.contract.set({data:t},u.TGas.mul(100).toFixed(0),r.toFixed(0))];case 1:return[2,n.sent()]}})}),function(e,t,r){return o.apply(this,arguments)});(0,s._)(function(e,t,r){var n;return(0,c._)(this,function(i){switch(i.label){case 0:return[4,b(e,t,r)];case 1:return[2,w(e,(n=i.sent()).data,n.deposit)]}})});var E=(a=(0,s._)(function(e,t,r){var n,i;return(0,c._)(this,function(o){switch(o.label){case 0:return[4,e.selector];case 1:return[4,o.sent().wallet()];case 2:return n=o.sent(),i=[],e.publicKey&&(i.push((0,d.TH)("grant_write_permission",{public_key:e.publicKey.toString(),keys:[e.accountId]},u.TGas.mul(100).toFixed(0),r.gt(0)?r.toFixed(0):"1")),r=h()(0)),i.push((0,d.TH)("set",{data:t},u.TGas.mul(100).toFixed(0),r.gt(0)?r.toFixed(0):"1")),[4,n.signAndSendTransaction({receiverId:e.config.contractName,actions:i})];case 3:return[2,o.sent()]}})}),function(e,t,r){return a.apply(this,arguments)})},8044:function(e,t,r){r.d(t,{OC:function(){return M},TH:function(){return v},Tk:function(){return L}});var n,i=r(6366),o=r(3954),a=r(2332),s=r(6149),l=r(6282),c=r(7606),u=r(2575),f=r.n(u),h=r(359),d=r(6175),p=r(8818),g=r(8764).Buffer,m="PENDING_TRANSACTION_AFTER_SIGNIN",v=(e,t,r,n)=>({type:"FunctionCall",params:{methodName:e,args:t,gas:r,deposit:n}}),y={networkId:"testnet",nodeUrl:"https://rpc.testnet.near.org",archivalNodeUrl:"https://rpc.testnet.internal.near.org",contractName:"v1.social08.testnet",walletUrl:"https://wallet.testnet.near.org",wrapNearAccountId:"wrap.testnet",apiUrl:"https://discovery-api.stage.testnet.near.org",enableWeb4FastRpc:!1},b={networkId:"mainnet",nodeUrl:"https://rpc.mainnet.near.org",archivalNodeUrl:"https://rpc.mainnet.internal.near.org",contractName:"social.near",walletUrl:"https://wallet.near.org",wrapNearAccountId:"wrap.near",apiUrl:"https://api.near.social",enableWeb4FastRpc:!1},w={get:!0,keys:!0};var E=(n=(0,i._)(function(e,t,r,n,i){var o;return(0,l._)(this,function(a){switch(a.label){case 0:if(!e.apiUrl||!w.hasOwnProperty(t))return[2,i()];r=r||{},n&&(r.blockHeight=n),a.label=1;case 1:return a.trys.push([1,4,,5]),[4,fetch(`${e.apiUrl}/${t}`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)})];case 2:return[4,a.sent().json()];case 3:return[2,a.sent()];case 4:return o=a.sent(),console.log("API call failed",t,r),console.error(o),[2,i()];case 5:return[2]}})}),function(e,t,r,i,o){return n.apply(this,arguments)});function S(e){return new c.keyStores.BrowserLocalStorageKeyStore(window.localStorage,`${e}:keystore:`)}function x(e,t){return k.apply(this,arguments)}function k(){return(k=(0,i._)(function(e,t){var r,n,i,o;return(0,l._)(this,function(a){switch(a.label){case 0:return r=S(t),[4,e.selector];case 1:if(!(n=a.sent()))return[3,4];return[4,n.wallet()];case 2:return i=a.sent(),[4,c.connect({keyStore:r,walletUrl:i.metadata.walletUrl,networkId:e.config.networkId,nodeUrl:e.config.nodeUrl,headers:{}})];case 3:return o=a.sent(),[2,new c.WalletConnection(o,t)];case 4:return[2]}})})).apply(this,arguments)}function _(){return(_=(0,i._)(function(e,t){var r,n,i,o,a,s,u,f,h;return(0,l._)(this,function(l){switch(l.label){case 0:return[4,x(e,r=t.contractName)];case 1:if(!(n=l.sent())._walletBaseUrl)return[3,2];return sessionStorage.setItem(m,JSON.stringify(t)),n.requestSignIn({contractId:r,methodNames:[]}),[3,7];case 2:return i=c.utils.KeyPair.fromRandom("ed25519"),o=c.transactions.functionCallAccessKey(r,[]),a=i.getPublicKey(),[4,e.selector.then(e=>e.wallet())];case 3:return[4,(s=l.sent()).getAccounts()];case 4:var d,g,y,b,w;return f=(u=l.sent()[0]).accountId,[4,s.signAndSendTransactions({transactions:[{receiverId:f,actions:[{type:"AddKey",params:{publicKey:a.toString(),accessKey:{permission:o.permission.functionCall}}}],gas:p.TGas.mul(30)},(d=t.contractName,g=t.methodName,y=t.args,b=t.gas,w=t.deposit,{receiverId:d,actions:[v(g,y,b.toFixed(0),w.toFixed(0))]})]})];case 5:return h=l.sent(),[4,S(r).setKey(e.config.networkId,f,i)];case 6:return l.sent(),localStorage.setItem(`${r}_wallet_auth_key`,JSON.stringify({accountId:f,allKeys:[u.publicKey]})),[2,h];case 7:return[2]}})})).apply(this,arguments)}function C(){return(C=(0,i._)(function(e,t){return(0,l._)(this,function(r){switch(r.label){case 0:return[4,x(e,t)];case 1:return[2,r.sent().isSignedIn()]}})})).apply(this,arguments)}function I(e,t,r,n,i,o){return N.apply(this,arguments)}function N(){return(N=(0,i._)(function(e,t,r,n,i,o){var a,s;return(0,l._)(this,function(l){switch(l.label){case 0:return l.trys.push([0,7,,8]),[4,e.selector];case 1:return[4,l.sent().wallet()];case 2:if(a=l.sent(),!(t!==e.contract.contractId))return[3,5];return[4,x(e,t)];case 3:if(!(s=l.sent()).isSignedIn())return[3,5];return[4,s.account().functionCall({contractId:t,methodName:r,args:n,gas:i})];case 4:case 6:return[2,l.sent()];case 5:return[4,a.signAndSendTransaction({receiverId:t,actions:[v(r,n,null!=i?i:p.TGas.mul(30).toFixed(0),null!=o?o:"0")]})];case 7:throw l.sent();case 8:return[2]}})})).apply(this,arguments)}function A(){return(A=(0,i._)(function(e,t){return(0,l._)(this,function(r){switch(r.label){case 0:return[4,new c.Account(e.nearConnection.connection,t).state()];case 1:return[2,r.sent()]}})})).apply(this,arguments)}function O(e,t){return B.apply(this,arguments)}function B(){return(B=(0,i._)(function(e,t){var r,n,i,o,a,s,c,u,h;return(0,l._)(this,function(l){switch(l.label){case 0:if(1!==t.length)return[3,2];if(n=(r=t[0]).contractName,i=r.methodName,o=r.args,a=r.gas,!(!(s=r.deposit)||"0"===s.toString()))return[3,2];return[4,I(e,n,i,o,null==a?void 0:a.toString())];case 1:case 5:return[2,l.sent()];case 2:return l.trys.push([2,6,,7]),[4,e.selector];case 3:return[4,l.sent().wallet()];case 4:return c=l.sent(),u=[],h=f()(0),t.forEach(e=>{var t,r=e.contractName,n=e.methodName,i=e.args,o=e.gas,a=e.deposit,s=h.add(o),l=v(n,i,o.toFixed(0),a.toFixed(0));(null===(t=u[u.length-1])||void 0===t?void 0:t.receiverId)!==r||s.gt(p.MaxGasPerTransaction)?(u.push({receiverId:r,actions:[]}),h=o):h=s,u[u.length-1].actions.push(l)}),[4,c.signAndSendTransactions({transactions:u})];case 6:throw l.sent();case 7:return[2]}})})).apply(this,arguments)}function T(){return(T=(0,i._)(function(e,t){return(0,l._)(this,function(r){switch(r.label){case 0:return[4,e.selector];case 1:return[4,r.sent().wallet()];case 2:return[2,r.sent().signMessage(t)]}})})).apply(this,arguments)}function P(){return(P=(0,i._)(function(e,t,r,n,i,o){var a;return(0,l._)(this,function(s){switch(s.label){case 0:return i=i||{},[4,e.query({request_type:"call_function",account_id:r,method_name:n,args_base64:g.from(JSON.stringify(i)).toString("base64"),block_id:t,finality:o})];case 1:return[2,(a=s.sent()).result&&a.result.length>0&&JSON.parse(g.from(a.result).toString())]}})})).apply(this,arguments)}function U(){return(U=(0,i._)(function(e,t,r,n){var i,o;return(0,l._)(this,function(a){switch(a.label){case 0:r=r||{},i=new URL(`https://rpc.web4.near.page/account/${e}/view/${t}`),Object.entries(r).forEach(e=>{var t=(0,s._)(e,2),r=t[0],n=t[1];void 0!==n&&i.searchParams.append(`${r}.json`,JSON.stringify(n))}),a.label=1;case 1:return a.trys.push([1,4,,5]),[4,fetch(i.toString())];case 2:return[4,a.sent().json()];case 3:return[2,a.sent()];case 4:return o=a.sent(),console.log("Web4 view call failed",i.toString()),console.error(o),[2,n()];case 5:return[2]}})})).apply(this,arguments)}function R(e){return j.apply(this,arguments)}function j(){return(j=(0,i._)(function(e){var t,r,n,o,a,s,u,f,h,d,p,g,v,w,S,k;return(0,l._)(this,function(N){switch(N.label){case 0:return t=e.networkId,r=e.config,o=void 0===(n=e.errorCallback)?()=>{}:n,a=e.keyStore,s=e.selector,f=void 0===(u=e.walletConnectCallback)?()=>{}:u,d=void 0===(h=e.customElements)?{}:h,g=void 0===(p=e.features)?{}:p,!r&&(r={},!t&&(r.networkId="mainnet")),t&&!r.networkId&&(r.networkId=t),"mainnet"===r.networkId?r=Object.assign({},b,r):"testnet"===r.networkId&&(r=Object.assign({},y,r)),r.walletConnectCallback=f,r.errorCallback=o,r.customElements=Object.assign({},r.customElements,d),a=null!=a?a:new c.keyStores.BrowserLocalStorageKeyStore,[4,c.connect(Object.assign({deps:{keyStore:a}},r))];case 1:var B,R,j,M,q,F,L,D;if(v=N.sent(),(w={config:r,selector:s,keyStore:a,nearConnection:v,features:g}).nearArchivalConnection=c.Connection.fromConfig({networkId:r.networkId,provider:{type:"JsonRpcProvider",args:{url:r.archivalNodeUrl}},signer:{type:"InMemorySigner",keyStore:a}}),S=e=>{var t;return"optimistic"===e||"final"===e?{finality:e,blockId:void 0}:null!=e?{finality:void 0,blockId:parseInt(e)}:{finality:null!==(t=r.defaultFinality)&&void 0!==t?t:"optimistic",blockId:void 0}},w.signMessage=e=>(function(e,t){return T.apply(this,arguments)})(w,e),w.viewCall=(e,t,n,i)=>{var o=S(i),a=o.blockId,s=o.finality,l=()=>(function(e,t,r,n,i,o){return P.apply(this,arguments)})(a?w.nearArchivalConnection.provider:w.nearConnection.connection.provider,null!=a?a:void 0,e,t,n,s),c=()=>"optimistic"===s&&r.enableWeb4FastRpc?function(e,t,r,n){return U.apply(this,arguments)}(e,t,n,l):l();return e===r.contractName&&(a||"final"===s)?E(r,t,n,a,c):c()},w.block=e=>{var t=S(e);return(t.blockId?w.nearArchivalConnection.provider:w.nearConnection.connection.provider).block(t)},w.functionCall=(e,t,r,n,i)=>I(w,e,t,r,n,i),w.sendTransactions=e=>O(w,e),w.isSignedIntoContract=(B=(0,i._)(function(e){return(0,l._)(this,function(t){return[2,function(e,t){return C.apply(this,arguments)}(w,e)]})}),function(e){return B.apply(this,arguments)}),w.signInAndSetPendingTransaction=(R=(0,i._)(function(e){return(0,l._)(this,function(t){return[2,function(e,t){return _.apply(this,arguments)}(w,e)]})}),function(e){return R.apply(this,arguments)}),w.contract=(j=w,M=r.contractName,F=(q={viewMethods:["storage_balance_of","get","get_num_accounts","get_accounts_paged","is_write_permission_granted","keys"],changeMethods:["set","grant_write_permission","storage_deposit","storage_withdraw"]}).viewMethods,L=q.changeMethods,D={near:j,contractId:M},(void 0===F?[]:F).forEach(e=>{D[e]=t=>j.viewCall(M,e,t)}),(void 0===L?[]:L).forEach(e=>{D[e]=(t,r,n)=>j.functionCall(M,e,t,r,n)}),D),w.accountState=e=>(function(e,t){return A.apply(this,arguments)})(w,e),!(k=JSON.parse(sessionStorage.getItem(m))))return[3,7];return console.log("found pending transaction",k),[4,x(w,k.contractName)];case 2:if(!N.sent())return[3,7];console.log("sending pending transaction",k),N.label=3;case 3:return N.trys.push([3,5,,6]),[4,O(w,[k])];case 4:return N.sent(),[3,6];case 5:return console.error("error sending pending transaction",N.sent()),[3,6];case 6:sessionStorage.removeItem(m),N.label=7;case 7:return[2,w]}})})).apply(this,arguments)}var M=(0,d.singletonHook)({},()=>{var e=(0,s._)((0,h.useState)(null),2),t=e[0],r=e[1];return{nearPromise:t,initNear:(0,h.useMemo)(()=>e=>{var t,n=(null===(t=e.config)||void 0===t?void 0:t.networkId)||e.networkId;return r(Promise.all(["testnet"===n?e:(0,a._)((0,o._)({},e),{networkId:"testnet",config:void 0,keyStore:void 0,selector:void 0}),"mainnet"===n?e:(0,a._)((0,o._)({},e),{networkId:"mainnet",config:void 0,keyStore:void 0,selector:void 0})].concat("mainnet"!==n&&"testnet"!==n?e:[]).map(R)).then(e=>e.map(e=>(0,a._)((0,o._)({},e),{default:e.config.networkId===n}))))},[])}}),q=[],F=(0,d.singletonHook)(q,()=>{var e=(0,s._)((0,h.useState)(q),2),t=e[0],r=e[1],n=M().nearPromise;return((0,h.useEffect)(()=>{n&&n.then(r)},[n]),t)?{default:t.find(e=>e.default),testnet:t.find(e=>"testnet"===e.config.networkId),mainnet:t.find(e=>"mainnet"===e.config.networkId)}:t}),L=e=>F()[e||"default"]||null},8818:function(e,t,r){r.r(t),r.d(t,{ErrorFallback:function(){return k},ErrorScopes:function(){return S},Loading:function(){return x},MaxGasPerTransaction:function(){return v},OneNear:function(){return w},ReactKey:function(){return et},StorageCostPerByte:function(){return y},TGas:function(){return m},availableNearBalance:function(){return F},bigMax:function(){return P},bigMin:function(){return T},bigToString:function(){return U},computeSrcOrCode:function(){return ea},computeWritePermission:function(){return Q},convertToStringLeaves:function(){return K},dateToString:function(){return M},deepCopy:function(){return en},deepEqual:function(){return eo},deepFreeze:function(){return ee},displayGas:function(){return j},displayNear:function(){return R},displayTime:function(){return q},estimateDataSize:function(){return J},extractKeys:function(){return G},filterValues:function(){return ei},indexMatch:function(){return Y},ipfsUpload:function(){return D},ipfsUrl:function(){return $},isArray:function(){return I},isFunction:function(){return O},isObject:function(){return N},isReactObject:function(){return er},isString:function(){return A},isValidAccountId:function(){return _},isoDate:function(){return L},keysToCamel:function(){return B},patternMatch:function(){return X},removeDuplicates:function(){return V}});var n,i=r(6366),o=r(6149),a=r(6282),s=r(2575),l=r.n(s),c=r(359),u=r.n(c),f=r(6988),h=r.n(f),d=r(1982),p=r(2961),g=r(8764).Buffer,m=l()(10).pow(12),v=m.mul(250),y=l()(10).pow(19),b=/^(([a-z\d]+[-_])*[a-z\d]+\.)*([a-z\d]+[-_])*[a-z\d]+$/,w=l()(10).pow(24),E=w.div(2),S={Boundary:"Component triggered an Error Boundary",Compilation:"Compilation error",Execution:"Execution error",Render:"Render error",Source:"Source code not found"},x=u().createElement("span",{className:"spinner-grow spinner-grow-sm me-1",style:{animationDelay:"2s"},role:"status","aria-hidden":"true"}),k=e=>{var t=e.error;return u().createElement("div",{role:"alert"},u().createElement("p",null,"Something went wrong:"),u().createElement("pre",null,t.message))};function _(e){return e&&e.length>=2&&e.length<=64&&e.match(b)}var C=e=>e.replace(/([-_][a-z])/gi,e=>e.toUpperCase().replace("-","").replace("_","")),I=e=>Array.isArray(e),N=e=>e===Object(e)&&!I(e)&&"function"!=typeof e,A=e=>"string"==typeof e,O=e=>"function"==typeof e,B=function(e){if(N(e)){var t={};return Object.keys(e).forEach(r=>{t[C(r)]=B(e[r])}),t}return I(e)?e.map(e=>B(e)):e},T=(e,t)=>e&&t?e.lt(t)?e:t:e||t,P=(e,t)=>e&&t?e.gt(t)?e:t:e||t,U=(e,t,r)=>{if(null===e)return"???";var n=e.toFixed(),i=n.indexOf(".");if(t=t||6,r=r||7,i>0){var o=Math.min(t,Math.max(r-i,0));o>0&&(o+=1),i+o<n.length&&(n=n.substring(0,i+o))}else i=n.length;for(var a=i-4;a>=0;a-=3)n=n.slice(0,a+1)+","+n.slice(a+1);return"0.000000"===n&&6===t&&7===r?"<0.000001":n},R=e=>e?e.eq(1)?u().createElement(u().Fragment,null,"1 ",u().createElement("span",{className:"text-secondary"},"yoctoNEAR")):u().createElement(u().Fragment,null,U(e.div(w))," ",u().createElement("span",{className:"text-secondary"},"NEAR")):"???",j=e=>e?u().createElement(u().Fragment,null,U(e.div(m))," ",u().createElement("span",{className:"text-secondary"},"TGas")):"???",M=e=>e.toLocaleString("en-us",{day:"numeric",month:"short",year:"numeric"}),q=e=>e.toLocaleString(),F=e=>{if(e&&!e.loading&&e.state){var t=l()(e.state.amount).sub(l()(e.state.storage_usage).mul(l()(y)));if(t.gt(E))return t.sub(E)}return l()(0)},L=e=>e?new Date(e).toISOString().substring(0,10):"";var D=(n=(0,i._)(function(e){return(0,a._)(this,function(t){switch(t.label){case 0:return[4,fetch("https://ipfs.near.social/add",{method:"POST",headers:{Accept:"application/json"},body:e})];case 1:return[4,t.sent().json()];case 2:return[2,t.sent().cid]}})}),function(e){return n.apply(this,arguments)}),$=e=>`https://ipfs.near.social/ipfs/${e}`,J=(e,t)=>N(e)?Object.entries(e).reduce((e,r)=>{var n=(0,o._)(r,2),i=n[0],a=n[1],s=N(t)?t[i]:void 0;return e+(void 0!==s?J(a,s):2*i.length+J(a,void 0)+140)},N(t)?0:98):((null==e?void 0:e.length)||8)-(A(t)?t.length:0),G=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return Object.entries(e).map(e=>{var r=(0,o._)(e,2),n=r[0],i=r[1];return N(i)?G(i,`${t}${n}/`):`${t}${n}`}).flat()},V=(e,t)=>{var r=Object.entries(e).reduce((e,r)=>{var n=(0,o._)(r,2),i=n[0],a=n[1],s=N(t)?t[i]:void 0;if(N(a)){var l=N(s)?V(a,s):a;void 0!==l&&(e[i]=l)}else a!==s&&(e[i]=a);return e},{});return Object.keys(r).length?r:void 0},z=e=>A(e)||null===e?e:JSON.stringify(e),K=e=>N(e)?Object.entries(e).reduce((e,t)=>{var r=(0,o._)(t,2),n=r[0],i=r[1];return e[z(n)]=K(i),e},{}):z(e),W=(e,t)=>{var r=t[0],n="**"===r;return n?1===t.length:("*"===r||n?Object.values(e):e.hasOwnProperty(r)?[e[r]]:[]).some(e=>N(e)?t.length>1?W(e,t.slice(1)):void 0!==e[""]:1===t.length)},H=(e,t)=>{var r=t[0];return("*"===r?Object.values(e):e.hasOwnProperty(r)?[e[r]]:[]).some(e=>1===t.length||N(e)&&H(e,t.slice(1)))},X=(e,t,r)=>{var n=t.split("/");return"get"===e?W(r,n):"keys"===e&&H(r,n)},Y=(e,t,r)=>Object.values(r).some(r=>{var n,i=null==r?void 0:null===(n=r.index)||void 0===n?void 0:n[e];try{return i&&JSON.stringify(JSON.parse(i).key)===JSON.stringify(t)}catch(e){return!1}}),Z={graph:!0,post:!0,index:!0,settings:!0},Q=(e,t)=>{var r=N(e)?JSON.parse(JSON.stringify(e)):{};return N(t)&&Object.entries(t).forEach(e=>{var t=(0,o._)(e,2),n=t[0],i=t[1];if(Z.hasOwnProperty(n)){if(N(i)){var a=r[n]=r[n]||{};Object.keys(i).forEach(e=>{a[e]=!0})}else r[n]=!0}else r[n]=!0}),r},ee=e=>(Object.freeze(e),Object.keys(e).forEach(t=>{if(!Object.getOwnPropertyDescriptor(e,t).get&&"object"==typeof e[t]&&!Object.isFrozen(e[t]))ee(e[t])}),e),et="$$typeof",er=e=>null!==e&&"object"==typeof e&&!!e[et],en=e=>{if(Array.isArray(e))return e.map(e=>en(e));if(e instanceof Map)return new Map([...e.entries()].map(e=>{var t=(0,o._)(e,2),r=t[0],n=t[1];return[en(r),en(n)]}));if(e instanceof Set)return new Set([...e].map(e=>en(e)));else if(g.isBuffer(e))return g.from(e);else if(e instanceof URL)return new URL(e);else if(e instanceof File)return new File([e],e.name,{type:e.type});else if(e instanceof Blob)return new Blob([e],{type:e.type});else if(e instanceof Uint8Array||e instanceof ArrayBuffer)return e.slice(0);else if(e instanceof d.ethers.BigNumber||e instanceof p.BN||e instanceof l())return e;else if(e instanceof Date)return new Date(e);else if(e instanceof WebSocket)return e;else if(N(e))return er(e)?e:Object.fromEntries(Object.entries(e).map(e=>{var t=(0,o._)(e,2);return[t[0],en(t[1])]}));else if(void 0===e||"function"==typeof e)return e;else return JSON.parse(JSON.stringify(e))},ei=e=>N(e)?Object.fromEntries(Object.entries(e).filter(e=>{var t=(0,o._)(e,2);return void 0!==(t[0],t[1])})):e,eo=h(),ea=(e,t,r)=>{var n=e?{src:e}:t?{code:t}:null,i=!0,o=!1,a=void 0;try{for(var s,l=(r||[])[Symbol.iterator]();!(i=(s=l.next()).done);i=!0){var c=s.value;if(null==n?void 0:n.src){var u=n.src,f=N(null==c?void 0:c.redirectMap)&&c.redirectMap[u];if(!f)try{f=O(null==c?void 0:c.redirect)&&c.redirect(u)}catch(e){}if(A(f))n={src:f};else if(A(null==f?void 0:f.code))return{code:f.code}}}}catch(e){o=!0,a=e}finally{try{!i&&null!=l.return&&l.return()}finally{if(o)throw a}}return n}},2095:function(e,t,r){r.d(t,{Z:function(){return e$}});var n,i=r(3954),o=r(2332),a=r(6310),s=r(6149),l=r(5303),c=r(359),u=r.n(c),f=r(8930),h=r(8818),d=r(8901),p=r.n(d),g=r(3352),m=r(5030),v=r.n(m),y=r(926),b=r(9723),w=r(7518),E=r.n(w),S=r(358),x=r(2575),k=r.n(x),_=r(6119),C=r(2961),I=r.n(C),N=r(1707),A=r(5711),O=r(754),B=r(9548),T=r.n(B),P=r(9631),U=r(2190),R=r.n(U),j=r(1982),M=r(56),q=r(1320),F=r(374),L=r(4866),D=r(9693),$=r(7620),J=r(7093),G=r(9539),V=r(5766),z=r(3363),K=r(8532),W=r(599),H=r(8367),X=r(4733),Y=r(9822),Z=r(8456),Q=r(8375),ee=r(3714),et=r(5213),er=r(4034),en=r(1358),ei=r(8034),eo=r(131),ea=r(9324),es=r(2479),el=r(7249),ec=r(6404),eu=r(1669),ef=r(999),eh=r(8764).Buffer,ed="state",ep=[Object.prototype,Function.prototype,Array.prototype,String.prototype,Number.prototype,Boolean.prototype],eg=new Set(ep);ep.forEach(Object.preventExtensions);var em="private",ev="public",ey={h1:!0,h2:!0,h3:!0,h4:!0,h5:!0,h6:!0,div:!0,span:!0,strong:!0,sub:!0,sup:!0,pre:!0,i:!0,b:!0,p:!0,input:!0,button:!0,fieldset:!0,ul:!0,ol:!0,li:!0,table:!0,tr:!0,th:!0,td:!0,thead:!0,tbody:!0,tfoot:!0,br:!1,hr:!1,img:!1,textarea:!0,select:!0,option:!0,label:!0,small:!0,svg:!0,animate:!1,animateMotion:!1,animateTransform:!1,defs:!0,circle:!0,clipPath:!0,ellipse:!0,g:!0,image:!1,line:!0,linearGradient:!0,marker:!0,mask:!0,mpath:!1,path:!0,pattern:!0,polygon:!0,polyline:!0,radialGradient:!0,rect:!0,set:!1,stop:!1,symbol:!0,text:!0,textPath:!0,tspan:!0,use:!1,a:!0},eb={Accordion:F,AlertDialog:L,AspectRatio:D,Avatar:$,Checkbox:J,Collapsible:G,ContextMenu:V,Dialog:z,DropdownMenu:K,HoverCard:W,Label:H,Menubar:X,NavigationMenu:Y,Popover:Z,Progress:Q,RadioGroup:ee,ScrollArea:et,Select:er,Separator:en,Slider:ei,Switch:eo,Tabs:ea,Toast:es,Toggle:el,ToggleGroup:ec,Toolbar:eu,Tooltip:ef},ew=(0,i._)({},ey,{Widget:!1,CommitButton:!0,IpfsImageUpload:!1,Markdown:!1,Fragment:!0,InfiniteScroll:!0,Typeahead:!1,Tooltip:!0,OverlayTrigger:!0,Files:!0,iframe:!1,Web3Connect:!1}),eE={styled:!0};var eS=(0,h.deepFreeze)(T()({encodeURIComponent,decodeURIComponent,isNaN,parseInt,parseFloat,isFinite,btoa:e=>btoa(e),atob:e=>atob(e),decodeURI,encodeURI,nacl:{randomBytes:N.randomBytes,secretbox:N.secretbox,scalarMult:N.scalarMult,box:N.box,sign:N.sign,hash:N.hash,verify:N.verify},ethers:{utils:(n=(0,h.deepCopy)(j.ethers.utils),["checkProperties","deepCopy","defineReadOnly","getStatic","resolveProperties","shallowCopy"].forEach(e=>{delete n[e]}),n),BigNumber:j.ethers.BigNumber,Contract:j.ethers.Contract,providers:j.ethers.providers},nanoid:{nanoid:O.nanoid,customAlphabet:O.customAlphabet},Promise,Date,Number,String,Big:k(),Math,Buffer:eh,Audio,Image,File,Blob,FileReader,URL,Array,BN:I(),Uint8Array,Map,Set})),ex={[h.ReactKey]:!0,constructor:!0,prototype:!0,__proto__:!0,__defineGetter__:!0,__defineSetter__:!0,__lookupGetter__:!0,__lookupSetter__:!0},ek={ecmaVersion:13,allowReturnOutsideFunction:!0},e_=new Map,eC=P.Parser.extend(R()()),eI=e=>{if(e_.has(e))return e_.get(e);var t=eC.parse(e,ek);return e_.set(e,t),t},eN=e=>{if(!0===ex[e])throw Error(`${e} is reserved and can't be used`)},eA=e=>{if(eg.has(e))throw Error("Native prototypes shouldn't be used")},eO=e=>{if(eA(e),(0,h.isReactObject)(e))throw Error("React objects shouldn't be dereferenced")},eB=e=>{eO(e),null!==e&&"object"==typeof e&&Object.entries(e).forEach(e=>{var t=(0,s._)(e,2),r=t[0],n=t[1];eN(r),eB(n)})},eT=e=>{if(!!e&&"string"==typeof e){if(Object.keys(eb).includes(e.split(".")[0])){var t=e.split(".").reduce((e,t)=>e[t],eb);if(void 0===t)throw Error(`"${e}" is not a valid Radix component`);return t}}},eP=(e,t)=>e&&(null==t||"final"===t||"optimistic"===t),eU=e=>{if("Identifier"!==e.type)throw Error("Non identifier: "+e.type);var t=e.name;if(eN(t),eE.hasOwnProperty(t))throw Error("Cannot use keyword: "+t);return{type:"Identifier",name:t}},eR=e=>{if("JSXIdentifier"!==e.type)throw Error("Non JSXIdentifier: "+e.type);return e.name},ej=e=>{if("JSXIdentifier"===e.type)return e.name;if("JSXMemberExpression"===e.type)return ej(e.object)+"."+eR(e.property);throw Error("Non JSXIdentifier or JSXMemberExpression: "+e.type)},eM=e=>{if("Identifier"===e.type)return eU(e);if("ArrayPattern"===e.type)return{type:"ArrayPattern",elements:e.elements.map(eM)};if("ObjectPattern"===e.type)return{type:"ObjectPattern",properties:e.properties.map(e=>{if("Property"===e.type)return{key:eU(e.key),value:eM(e.value)};if("RestElement"===e.type)return{type:"RestElement",argument:eU(e.argument)};throw Error("Unknown property type: "+e.type)})};else if("RestElement"===e.type)return{type:"RestElement",argument:eU(e.argument)};else throw Error("Unknown pattern: "+e.type)},eq=["key","name","className","onChange","onError","accepts","multiple","clickable","maxFiles","maxFileSize","minFileSize","dragActiveClassName"],eF=e=>{var t={};return eq.forEach(r=>{e.hasOwnProperty(r)&&(t[r]=e[r])}),t};class eL{findObj(e){return this.state.hasOwnProperty(e)?this.state:this.prevStack?this.prevStack.findObj(e):void 0}get(e){return this.state.hasOwnProperty(e)?this.state[e]:this.prevStack?this.prevStack.get(e):void 0}constructor(e,t){this.prevStack=e,this.state=t}}class eD{newStack(e){return new eD(this.vm,this.stack,{},this.isTrusted||!!e)}executeExpression(e){var t=this.executeExpressionInternal(e);return eA(t),t}renderElement(e){var t,r,n,l,c,d,m,E,x,k="JSXFragment"===e.type?"Fragment":ej(e.openingElement.name),_=ew[k],C=null;void 0===_&&this.vm.near.config.customElements.hasOwnProperty(k)&&(_=!0,C=this.vm.near.config.customElements[k]);var I=eT(k),N=void 0===_&&this.executeExpression(e.openingElement.name);if(void 0===_&&!I){if(void 0===N)throw Error("Unknown element: "+k);if(!(0,w.isStyledComponent)(N)&&"function"!=typeof N)throw Error("Unsupported component: "+k)}var O={},B={};"input"===k?O.className="form-control":"CommitButton"===k?O.className="btn btn-success":"button"===k?O.className="btn btn-primary":"IpfsImageUpload"===k&&(O.className="btn btn-outline-primary");var T={};("JSXFragment"===e.type?e.openingFragment:e.openingElement).attributes.forEach(e=>{if("JSXAttribute"===e.type){var t=eR(e.name);O[t]=null===e.value||this.executeExpression(e.value),("value"===t||"image"===t||"onChange"===t)&&(T[t]=e.value)}else if("JSXSpreadAttribute"===e.type){var r=this.executeExpression(e.argument);Object.assign(O,r)}else throw Error("Unknown attribute type: "+e.type)}),"forwardedRef"===O.ref&&(O=(0,i._)({},O,this.vm.forwardedProps)),Object.entries(T).forEach(e=>{var t=(0,s._)(e,2),r=t[0],n=t[1];if("value"!==r||"input"!==k||"text"!==O.type||"JSXExpressionContainer"!==n.type||"onChange"in T){if("image"===r&&"IpfsImageUpload"===k&&"JSXExpressionContainer"===n.type){var i=this.resolveMemberExpression(n.expression,{requireState:!0,left:!0}),o=i.obj,a=i.key;B.img=o[a],O.onChange=e=>{(null==e?void 0:e.length)>0?(o[a]={uploading:!0,cid:null},this.vm.setReactState(this.vm.state.state),(0,h.ipfsUpload)(e[0]).then(e=>{if(!!this.vm.alive){var t=this.vm.vmStack.resolveMemberExpression(n.expression,{requireState:!0,left:!0});t.obj[t.key]={cid:e},this.vm.setReactState(this.vm.state.state)}})):(o[a]=null,this.vm.setReactState(this.vm.state.state))}}}else{var l=this.resolveMemberExpression(n.expression,{requireState:!0,left:!0}),c=l.obj,u=l.key;O.value=(null==c?void 0:c[u])||"",O.onChange=e=>{e.preventDefault(),c[u]=e.target.value,this.vm.setReactState(this.vm.state.state)}}}),O.key=null!==(n=O.key)&&void 0!==n?n:`${this.vm.widgetSrc}-${k}-${this.vm.gIndex}`,(null===(r=this.vm.near)||void 0===r?void 0:null===(t=r.features)||void 0===t?void 0:t.enableComponentSrcDataKey)==!0&&(O["data-component"]=null!==(l=O["data-component"])&&void 0!==l?l:this.vm.widgetSrc),delete O.dangerouslySetInnerHTML,delete O.is;var P=(0,w.isStyledComponent)(N)&&(null==N?void 0:N.target)||k;if(O.as&&!ey[O.as]&&delete O.as,O.forwardedAs&&!ey[O.forwardedAs]&&delete O.forwardedAs,"img"===P)O.alt=null!==(c=O.alt)&&void 0!==c?c:"not defined";else if("a"===P||"use"===P)Object.entries(O).forEach(e=>{var t=(0,s._)(e,2),r=t[0],n=t[1];"href"===r.toLowerCase()&&(O[r]=(0,h.isString)(n)&&(0,q.isValidAttribute)("a","href",n)?n:"about:blank")});else if("set"===P){if("href"===O.attributeName||"xlink:href"===O.attributeName||"is"===O.attributeName)return u().createElement(u().Fragment,null)}else"Widget"===k?(O.depth=this.vm.depth+1,O.config=[O.config,...this.vm.widgetConfigs].filter(Boolean)):"CommitButton"===k&&(O.networkId=this.vm.networkId);if(!1===_&&e.children.length)throw Error("And element '"+k+"' contains children, but shouldn't");var U=e.children.map((e,t)=>(this.vm.gIndex=t,this.executeExpression(e)));if(C)return C((0,o._)((0,i._)({},O),{children:U}));if(N)return(0,w.isStyledComponent)(N)?u().createElement(N,(0,i._)({},O),...U):N((0,i._)({children:U},O));if("Widget"===k)return u().createElement(f.$,O);else if("CommitButton"===k)return u().createElement(y.A,(0,o._)((0,i._)({},O),{widgetSrc:this.vm.widgetSrc}),U);else if("InfiniteScroll"===k)return u().createElement(v(),O,U);else if("Tooltip"===k)return u().createElement(S.Tooltip,O,U);else if("OverlayTrigger"===k)return u().createElement(S.OverlayTrigger,O,U.filter(e=>!(0,h.isString)(e)||!!e.trim())[0]);else if("Typeahead"===k)return u().createElement(b.Typeahead,O);else if("Markdown"===k)return u().createElement(g.U,O);else if("Fragment"===k){O["data-component"];var R=(0,a._)(O,["data-component"]);return u().createElement(u().Fragment,R,U)}else if("IpfsImageUpload"===k)return u().createElement("div",{className:"d-inline-block",key:O.key},(null===(d=B.img)||void 0===d?void 0:d.cid)&&u().createElement("div",{className:"d-inline-block me-2 overflow-hidden align-middle",style:{width:"2.5em",height:"2.5em"}},u().createElement("img",{className:"rounded w-100 h-100",style:{objectFit:"cover"},src:(0,h.ipfsUrl)(null===(m=B.img)||void 0===m?void 0:m.cid),alt:"upload preview"})),u().createElement(p(),(0,i._)({multiple:!1,accepts:["image/*"],minFileSize:1,clickable:!0},eF(O)),(null===(E=B.img)||void 0===E?void 0:E.uploading)?u().createElement(u().Fragment,null,h.Loading," Uploading"):(null===(x=B.img)||void 0===x?void 0:x.cid)?"Replace":"Upload an Image"));else if("Files"===k)return u().createElement(p(),eF(O),U);else if("iframe"===k)return u().createElement(A.Z,O);else if("Web3Connect"===k)return u().createElement(M.a,O);else if(I){if(k.includes("Portal"))throw Error(`Radix's "${k}" component is not allowed. This portal element is an optional Radix feature and isn't necessary for most use cases.`);var j=U;return Array.isArray(j)&&(1===(j=j.filter(e=>"string"!=typeof e||""!==e.trim())).length?j=j[0]:0===j.length&&(j=void 0)),u().createElement(I,O,j)}else if(!0===_)return u().createElement(k,(0,i._)({},O),...U);else if(!1===_)return u().createElement(k,(0,i._)({},O));else throw Error("Unsupported element: "+k)}resolveKey(e,t){var r=t||"Identifier"!==e.type&&"JSXIdentifier"!==e.type?this.executeExpression(e):e.name;return eN(r),r}resolveMemberExpression(e,t){if("Identifier"===e.type||"JSXIdentifier"===e.type){var r,n=e.name;if(eN(n),(null==t?void 0:t.requireState)&&n!==ed)throw Error(`The top object should be ${ed}`);var i=null!==(r=this.stack.findObj(n))&&void 0!==r?r:this.stack.state;if(eO(i),i===this.stack.state&&eE.hasOwnProperty(n)){if(null==t?void 0:t.left)throw Error("Cannot assign to keyword '"+n+"'");return{obj:i,key:n,keyword:n}}if((null==t?void 0:t.left)&&(!i||!i.hasOwnProperty(n)))throw Error(`Accessing undeclared identifier '${e.name}'`);return{obj:i,key:n}}if("MemberExpression"===e.type||"JSXMemberExpression"===e.type){if((null===(o=e.object)||void 0===o?void 0:o.type)==="Identifier"||(null===(a=e.object)||void 0===a?void 0:a.type)==="JSXIdentifier"){var o,a,s=e.object.name;if(eE.hasOwnProperty(s)){if(!(null==t?void 0:t.callee))throw Error("Cannot dereference keyword '"+s+"' in non-call expression");return{obj:this.stack.state,key:this.resolveKey(e.property,e.computed),keyword:s}}}var l=this.executeExpression(e.object);return eO(l),{obj:l,key:this.resolveKey(e.property,e.computed)}}throw Error("Unsupported member type: '"+e.type+"'")}getArray(e){var t=[];return e.forEach(e=>{"SpreadElement"===e.type?t.push(...this.executeExpression(e.argument)):t.push(this.executeExpression(e))}),t}executeExpressionInternal(e){if(!e)return null;var t=null==e?void 0:e.type;if("AssignmentExpression"===t){var r,n=this.resolveMemberExpression(e.left,{left:!0}),i=n.obj,o=n.key,a=this.executeExpression(e.right);if("="===e.operator)return i[o]=a;if("+="===e.operator)return i[o]+=a;else if("-="===e.operator)return i[o]-=a;else if("*="===e.operator)return i[o]*=a;else if("/="===e.operator)return i[o]/=a;else if("??="===e.operator)return null!==(r=i[o])&&void 0!==r?r:i[o]=a;else throw Error("Unknown AssignmentExpression operator '"+e.operator+"'")}if("ChainExpression"===t)return this.executeExpression(e.expression);if("MemberExpression"===t||"JSXMemberExpression"===t){var s=this.resolveMemberExpression(e),l=s.obj,c=s.key;return null==l?void 0:l[c]}else if("Identifier"===t||"JSXIdentifier"===t)return this.stack.get(e.name);else if("JSXExpressionContainer"===t)return this.executeExpression(e.expression);else if("TemplateLiteral"===t){for(var u=[],f=0;f<e.quasis.length;f++){var h=e.quasis[f];if("TemplateElement"!==h.type)throw Error("Unknown quasis type: "+h.type);u.push(h.value.cooked),!h.tail&&u.push(this.executeExpression(e.expressions[f]))}return u.join("")}else if("CallExpression"===t||"NewExpression"===t){var d=this.resolveMemberExpression(e.callee,{callee:!0}),p=d.obj,g=d.key,m=d.keyword,v=this.getArray(e.arguments);if(!m&&(null==p?void 0:p[g])instanceof Function){this.vm.currentVmStack=this;var y="NewExpression"===t?new p[g](...v):p[g](...v);return this.vm.currentVmStack=void 0,y}if(e.optional)return;throw Error(`"${g}" is not a function`)}else if("Literal"===t||"JSXText"===t)return e.value;else if("JSXElement"===t||"JSXFragment"===t)return this.renderElement(e);else if("JSXExpressionContainer"===t)return this.executeExpression(e.expression);else if("BinaryExpression"===t){var b=this.executeExpression(e.left),S=this.executeExpression(e.right);if("+"===e.operator)return b+S;if("-"===e.operator)return b-S;else if("%"===e.operator)return b%S;else if("*"===e.operator)return b*S;else if("/"===e.operator)return b/S;else if("<"===e.operator)return b<S;else if("|"===e.operator)return b|S;else if("&"===e.operator)return b&S;else if(">"===e.operator)return b>S;else if("<="===e.operator)return b<=S;else if(">="===e.operator)return b>=S;else if("==="===e.operator||"=="===e.operator)return b===S;else if("!=="===e.operator||"!="===e.operator)return b!==S;else if("in"===e.operator)return b in S;else throw Error("Unknown BinaryExpression operator '"+e.operator+"'")}else if("UnaryExpression"===t){if("delete"===e.operator){var x=this.resolveMemberExpression(e.argument,{left:!0}),k=x.obj,_=x.key;return null==k||delete k[_]}var C=this.executeExpression(e.argument);if("-"===e.operator)return-C;if("!"===e.operator)return!C;else if("typeof"===e.operator)return typeof C;else throw Error("Unknown UnaryExpression operator '"+e.operator+"'")}else if("LogicalExpression"===t){var I=this.executeExpression(e.left);if("||"===e.operator)return I||this.executeExpression(e.right);if("&&"===e.operator)return I&&this.executeExpression(e.right);else if("??"===e.operator)return null!=I?I:this.executeExpression(e.right);else throw Error("Unknown LogicalExpression operator '"+e.operator+"'")}else if("ConditionalExpression"===t)return this.executeExpression(e.test)?this.executeExpression(e.consequent):this.executeExpression(e.alternate);else if("UpdateExpression"===t){var N=this.resolveMemberExpression(e.argument,{left:!0}),A=N.obj,O=N.key;if("++"===e.operator)return e.prefix?++A[O]:A[O]++;if("--"===e.operator)return e.prefix?--A[O]:A[O]--;else throw Error("Unknown UpdateExpression operator '"+e.operator+"'")}else if("ObjectExpression"===t)return e.properties.reduce((e,t)=>{if("Property"===t.type)e[this.resolveKey(t.key,t.computed)]=this.executeExpression(t.value);else if("SpreadElement"===t.type){var r=this.executeExpression(t.argument);eO(r),Object.assign(e,r)}else throw Error("Unknown property type: "+t.type);return e},{});else if("ArrayExpression"===t)return this.getArray(e.elements);else if("JSXEmptyExpression"===t)return null;else if("ArrowFunctionExpression"===t)return this.createFunction(e.params,e.body,e.expression);else if("TaggedTemplateExpression"===t){if("MemberExpression"===e.tag.type||"CallExpression"===e.tag.type){var B=this.resolveMemberExpression("MemberExpression"===e.tag.type?e.tag:e.tag.callee,{callee:!0}),T=B.key;if("styled"!==B.keyword)throw Error("TaggedTemplateExpression is only supported for `styled` components");if("CallExpression"===e.tag.type){var P,U,R,j=this.getArray(e.tag.arguments),M=null==j?void 0:j[0],q=eT(M),F=this.vm.near.config.customElements[M];if(!(0,w.isStyledComponent)(M)&&!q&&!F)throw Error('styled() can only take `styled` components, Radix component names (EG: "Accordion.Trigger"), or a customElement name (EG: "Link")');P=E()(null!==(R=null!=F?F:q)&&void 0!==R?R:M)}else{if("keyframes"===T)P=w.keyframes;else if(ey.hasOwnProperty(T))P=E()(T);else throw Error("Unsupported styled tag: "+T);U=T}}else throw Error("TaggedTemplateExpression is only supported for `styled` components");if("TemplateLiteral"!==e.quasi.type)throw Error("Unknown quasi type: "+e.quasi.type);var L=e.quasi.quasis.map(e=>{if("TemplateElement"!==e.type)throw Error("Unknown quasis type: "+e.type);return e.value.cooked}),D=0===e.quasi.expressions.length&&"CallExpression"!==e.tag.type,$=JSON.stringify([U,...L]);if(D&&this.vm.cachedStyledComponents.has($))return this.vm.cachedStyledComponents.get($);var J=e.quasi.expressions.map(e=>this.executeExpression(e));if(P instanceof Function){var G=P(L,...J);return D&&this.vm.cachedStyledComponents.set($,G),G}throw Error("styled error")}else throw console.log(e),Error("Unknown expression type '"+t+"'")}createFunction(e,t,r){var n=this;return e=e.map(eM),function(){for(var i,o,a,s=arguments.length,l=Array(s),c=0;c<s;c++)l[c]=arguments[c];if(!!n.vm.alive){var u=!!((null==l?void 0:null===(i=l[0])||void 0===i?void 0:i.nativeEvent)instanceof Event&&(null==l?void 0:null===(o=l[0])||void 0===o?void 0:o.nativeEvent.isTrusted)),f=n.newStack(u);return e.forEach((e,t)=>{var r=void 0,n=null==l?void 0:l[t];if(void 0!==n)try{if((null==n?void 0:n.nativeEvent)instanceof Event){var i,o,a,s,c,u,d,p,g=n;(n=n.nativeEvent)._preventDefault=()=>g.preventDefault(),n._stopPropagation=()=>g.stopPropagation(),n._isDefaultPrevented=()=>g.isDefaultPrevented(),n._isPropagationStopped=()=>g.isPropagationStopped()}n instanceof Event?n=(0,h.filterValues)({target:n.target?(0,h.filterValues)({value:null===(i=n.target)||void 0===i?void 0:i.value,id:null===(o=n.target)||void 0===o?void 0:o.id,dataset:null===(a=n.target)||void 0===a?void 0:a.dataset,href:null===(s=n.target)||void 0===s?void 0:s.href,checked:null===(c=n.target)||void 0===c?void 0:c.checked}):void 0,data:n.data,code:n.code,key:n.key,ctrlKey:n.ctrlKey,altKey:n.altKey,shiftKey:n.shiftKey,metaKey:n.metaKey,button:n.button,buttons:n.buttons,clientX:n.clientX,clientY:n.clientY,screenX:n.screenX,screenY:n.screenY,touches:n.touches,preventDefault:null!==(u=n._preventDefault)&&void 0!==u?u:n.preventDefault,stopPropagation:null!==(d=n._stopPropagation)&&void 0!==d?d:n.stopPropagation,defaultPrevented:n.defaultPrevented,isDefaultPrevented:null!==(p=n._isDefaultPrevented)&&void 0!==p?p:()=>n.defaultPrevented,isPropagationStopped:n._isPropagationStopped}):n instanceof Error&&(n=(0,h.filterValues)({type:n.type,name:n.name,message:n.message})),r=(0,h.deepCopy)(n)}catch(e){console.warn(e)}f.stackDeclare(e,r)}),r?f.executeExpression(t):null===(a=f.executeStatement(t))||void 0===a?void 0:a.result}}}stackDeclare(e,t){if("Identifier"===e.type)this.stack.state[e.name]=t;else if("ArrayPattern"===e.type)eO(t),e.elements.forEach((e,r)=>{"RestElement"===e.type?this.stackDeclare(e.argument,t.slice(r)):this.stackDeclare(e,null==t?void 0:t[r])});else if("ObjectPattern"===e.type){eO(t);var r=new Set;e.properties.forEach(e=>{if("RestElement"===e.type){var n={};(0,h.isObject)(t)&&(Object.assign(n,t),r.forEach(e=>delete n[e])),this.stackDeclare(e.argument,n)}else this.stackDeclare(e.value,null==t?void 0:t[e.key.name]),r.add(e.key.name)})}else throw Error("Unknown pattern type: "+e.type)}executeStatement(e){if(e&&"EmptyStatement"!==e.type){if("VariableDeclaration"===e.type)e.declarations.forEach(e=>{if("VariableDeclarator"===e.type)this.stackDeclare(eM(e.id),this.executeExpression(e.init));else throw Error("Unknown variable declaration type '"+e.type+"'")});else if("ReturnStatement"===e.type)return{result:this.executeExpression(e.argument)};else if("FunctionDeclaration"===e.type)this.stackDeclare(eU(e.id),this.createFunction(e.params,e.body,e.expression));else if("ExpressionStatement"===e.type)this.executeExpression(e.expression);else if("BlockStatement"===e.type||"Program"===e.type){for(var t=e.body,r=this.newStack(),n=0;n<t.length;n++){var i=r.executeStatement(t[n]);if(i)return i}}else if("ForStatement"===e.type){var o=this.newStack();for(o.executeStatement(e.init);this.vm.loopLimit-- >0&&(!e.test||o.executeExpression(e.test));){;var a=o.executeStatement(e.body);if(a){if(a.break)break;if(!a.continue)return a}o.executeExpression(e.update)}if(this.vm.loopLimit<=0)throw Error("Exceeded loop limit")}else if("ForOfStatement"===e.type){var s=this.newStack(),c=s.executeExpression(e.right);eO(c);var u=!0,f=!1,d=void 0;try{for(var p,g,m=c[Symbol.iterator]();!(u=(g=m.next()).done);u=!0){var v=(p=this,function(){var t=g.value;if(p.vm.loopLimit--<=0)throw Error("Exceeded loop limit");if("VariableDeclaration"===e.left.type){if(1!==e.left.declarations.length)throw Error("Invalid for-of statement");e.left.declarations.forEach(e=>{if("VariableDeclarator"===e.type)p.stackDeclare(eM(e.id),t);else throw Error("Unknown variable declaration type '"+e.type+"'")})}else{var r=p.resolveMemberExpression(e.left,{left:!0});r.obj[r.key]=t}var n=s.executeStatement(e.body);if(n){if(n.break)return"break";if(!n.continue)return{v:n}}}());if("object"===(0,l._)(v))return v.v;if("break"===v)break}}catch(e){f=!0,d=e}finally{try{!u&&null!=m.return&&m.return()}finally{if(f)throw d}}}else if("WhileStatement"===e.type){for(var y=this.newStack();this.vm.loopLimit-- >0&&y.executeExpression(e.test);){;var b=y.executeStatement(e.body);if(b){if(b.break)break;if(!b.continue)return b}}if(this.vm.loopLimit<=0)throw Error("Exceeded loop limit")}else if("IfStatement"===e.type){var w=this.executeExpression(e.test),E=this.newStack(),S=w?E.executeStatement(e.consequent):E.executeStatement(e.alternate);if(S)return S}else if("BreakStatement"===e.type)return{break:!0};else if("ContinueStatement"===e.type)return{continue:!0};else if("ThrowStatement"===e.type)throw this.executeExpression(e.argument);else if("TryStatement"===e.type)try{var x=this.newStack().executeStatement(e.block);if(x)return x}catch(t){if(!this.vm.alive||!e.handler)return null;if("CatchClause"!==e.handler.type)throw Error("Unknown try statement handler type '"+e.handler.type+"'");var k=this.newStack();e.handler.param&&k.stackDeclare(eU(e.handler.param),(0,h.deepCopy)(t instanceof Error?{name:null==t?void 0:t.name,message:null==t?void 0:t.message,toString:()=>t.toString()}:t));var _=k.executeStatement(e.handler.body);if(_)return _}finally{this.vm.alive&&this.newStack().executeStatement(e.finalizer)}else if("SwitchStatement"===e.type){var C=this.executeExpression(e.discriminant),I=this.newStack(),N=e.cases,A=!1,O=!0,B=!1,T=void 0;try{for(var P,U=N[Symbol.iterator]();!(O=(P=U.next()).done);O=!0){var R=P.value;if("SwitchCase"!==R.type)throw Error("Unknown switch case type '"+R.type+"'");if(!!A||null===R.test||I.executeExpression(R.test)===C){A=!0;var j=!1,M=!0,q=!1,F=void 0;try{for(var L,D=R.consequent[Symbol.iterator]();!(M=(L=D.next()).done);M=!0){var $=L.value,J=I.executeStatement($);if(J){if(!J.break)return J;j=!0;break}}}catch(e){q=!0,F=e}finally{try{!M&&null!=D.return&&D.return()}finally{if(q)throw F}}if(j)break}}}catch(e){B=!0,T=e}finally{try{!O&&null!=U.return&&U.return()}finally{if(B)throw T}}}else throw Error("Unknown token type '"+e.type+"'")}else;return null}constructor(e,t,r,n){this.gIndex=0,this.hookIndex=0,this.vm=e,this.isTrusted=!!n,this.stack=new eL(t,r)}}class e${stop(){if(!!this.alive)this.alive=!1,this.timeouts.forEach(e=>clearTimeout(e)),this.intervals.forEach(e=>clearInterval(e)),this.websockets.forEach(e=>e.close()),this.vmInstances.forEach(e=>e.stop())}initGlobalFunctions(){var e=this,t={getr:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length<1)throw Error("Missing argument 'keys' for Social.getr");return e.cachedSocialGet(r[0],!0,r[1],r[2],r[3])},get:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length<1)throw Error("Missing argument 'keys' for Social.get");return e.cachedSocialGet(r[0],!1,r[1],r[2],r[3])},keys:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length<1)throw Error("Missing argument 'keys' for Social.keys");return e.cachedSocialKeys(...r)},index:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length<2)throw Error("Missing argument 'action' and 'key` for Social.index");return e.cachedIndex(...r)},set:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length<1)throw Error("Missing argument 'data' for Social.set");return e.socialSet(r[0],r[1])}},r={stringify:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length<1)throw Error("Missing argument 'obj' for JSON.stringify");return eO(t[0]),JSON.stringify(t[0],t[1],t[2])},parse:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length<1)throw Error("Missing argument 's' for JSON.parse");try{var n=JSON.parse(t[0]);return eB(n),n}catch(e){return null}}},n={init:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length<1)throw Error("Missing argument 'initialState' for State.init");if(null===r[0]||"object"!=typeof r[0]||(0,h.isReactObject)(r[0]))throw Error("'initialState' is not an object");if(void 0===e.state.state){var i=r[0];e.state.state=i,e.setReactState(i)}return e.state.state},update:function(){for(var t,r,n=arguments.length,i=Array(n),o=0;o<n;o++)i[o]=arguments[o];if((0,h.isObject)(i[0])?(e.state.state=null!==(t=e.state.state)&&void 0!==t?t:{},Object.assign(e.state.state,i[0])):i[0]instanceof Function&&(e.state.state=null!==(r=e.state.state)&&void 0!==r?r:{},e.state.state=i[0](e.state.state)),void 0===e.state.state)throw Error("The state was not initialized");return e.setReactState(e.state.state),e.state.state},get:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.state.state}},i=function(t){for(var r,n=arguments.length,i=Array(n>1?n-1:0),o=1;o<n;o++)i[o-1]=arguments[o];if(!e.currentVmStack||(null===(r=e.currentVmStack)||void 0===r?void 0:r.prevStack))throw Error(`Method: ${t}. The hook can only be called from the top of the stack`);if(!e.hooks)throw Error("Hooks are unavailable for modules");var a="useMemo"===t,s=a?"factory":"callback";if(i.length<1)throw Error(`Method: ${t}. Required arguments: '${s}'. Optional: 'dependencies'`);var l=i[0];if(!(0,h.isFunction)(l))throw Error(`Method: ${t}. The first argument '${s}' must be a function`);var c=e.currentVmStack.hookIndex++,u=i[1],f=e.hooks[c];if(f){var d=f.dependencies;if(void 0!==d&&(0,h.deepEqual)(d,u))return f.memoized}var p=a?l():l;return e.setReactHook(c,{memoized:p,dependencies:u}),p};return(0,h.deepFreeze)({socialGetr:t.getr,socialGet:t.get,Social:t,Near:{signMessage:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];if(1===r.length){if((0,h.isObject)(r[0]))return e.near.signMessage(r[0]);throw Error("Method: Near.signMessage. Required argument: '{message, recipient, nonce, callbackUrl}'")}if(r.length<3)throw Error("Method: Near.signMessage. Required arguments: 'message', 'recipient', 'nonce'. Optional: 'callbackUrl'");var i=(0,s._)(r,4),o=i[0],a=i[1],l=i[2],c=i[3];return e.near.signMessage({message:o,recipient:a,nonce:l,callbackUrl:c})},view:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length<2)throw Error("Method: Near.view. Required arguments: 'contractName', 'methodName'. Optional: 'args', 'blockId/finality', 'subscribe', 'cacheOptions'");var i=(0,s._)(r,6),o=i[0],a=i[1],l=i[2],c=i[3],u=i[4],f=i[5];return e.cachedNearView(o,a,l,c,eP(u,c),f)},asyncView:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length<2)throw Error("Method: Near.asyncView. Required arguments: 'contractName', 'methodName'. Optional: 'args', 'blockId/finality'");return e.asyncNearView(...r)},block:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=(0,s._)(r,3),o=i[0],a=i[1],l=i[2];return e.cachedNearBlock(o,eP(a,o),l)},call:function(){for(var t,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];if(1===n.length){if((0,h.isObject)(n[0]))return e.confirmTransactions([n[0]]);if((0,h.isArray)(n[0]))return e.confirmTransactions(n[0]);else throw Error("Method: Near.call. Required argument: 'tx/txs'. A single argument call requires an TX object or an array of TX objects.")}if(n.length<2||n.length>5)throw Error("Method: Near.call. Required argument: 'contractName'. If the first argument is a string: 'methodName'. Optional: 'args', 'gas' (defaults to 300Tg), 'deposit' (defaults to 0)");return e.confirmTransactions([{contractName:n[0],methodName:n[1],args:null!==(t=n[2])&&void 0!==t?t:{},gas:n[3],deposit:n[4]}])}},stringify:r.stringify,JSON:r,Object:{keys:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length<1)throw Error("Missing argument 'obj' for Object.keys");return eO(t[0]),Object.keys(t[0])},values:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length<1)throw Error("Missing argument 'obj' for Object.values");return eO(t[0]),Object.values(t[0])},entries:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];if(t.length<1)throw Error("Missing argument 'obj' for Object.entries");return eO(t[0]),Object.entries(t[0])},assign:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];t.forEach(e=>eO(e));var n=Object.assign(...t);return eB(n),n},fromEntries:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];var n=Object.fromEntries(t[0]);return eB(n),n}},initState:n.init,State:n,Storage:{privateSet:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length<2)throw Error("Missing argument 'key' or 'value' for Storage.privateSet");return e.storageSet({src:e.widgetSrc,type:em},r[0],r[1])},privateGet:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length<1)throw Error("Missing argument 'key' for Storage.privateGet");return e.storageGet({src:e.widgetSrc,type:em},r[0])},set:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length<2)throw Error("Missing argument 'key' or 'value' for Storage.set");return e.storageSet({src:e.widgetSrc,type:ev},r[0],r[1])},get:function(){for(var t,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];if(n.length<1)throw Error("Missing argument 'key' for Storage.get. Optional argument: `widgetSrc`");return e.storageGet({src:null!==(t=n[1])&&void 0!==t?t:e.widgetSrc,type:ev},n[0])}},console:{log:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return console.log(e.widgetSrc,...r)},warn:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return console.warn(e.widgetSrc,...r)},error:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return console.error(e.widgetSrc,...r)},info:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return console.info(e.widgetSrc,...r)}},clipboard:{writeText:function(){for(var t,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];return(null===(t=e.currentVmStack)||void 0===t?void 0:t.isTrusted)?navigator.clipboard.writeText(...n):Promise.reject(Error("Not trusted (not a click)"))}},VM:{require:this.vmRequire.bind(this)},Ethers:{provider:()=>this.ethersProvider,setChain:function(){for(var t,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];var o=null===(t=e.ethersProviderContext)||void 0===t?void 0:t.setChain;if(!o)throw Error("The gateway doesn't support `setChain` operation");return o(...n)},send:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];return e.cachedEthersCall("send",r)}},WebSocket:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=new WebSocket(...r);return e.websockets.push(i),i},fetch:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length<1)throw Error("Method: fetch. Required arguments: 'url'. Optional: 'options'");return e.cachedFetch(...r)},asyncFetch:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length<1)throw Error("Method: asyncFetch. Required arguments: 'url'. Optional: 'options'");return e.asyncFetch(...r)},useCache:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];if(r.length<2)throw Error("Method: useCache. Required arguments: 'promiseGenerator', 'dataKey'. Optional: 'options'");if(!(0,h.isFunction)(r[0]))throw Error("Method: useCache. The first argument 'promiseGenerator' must be a function");return e.useCache(...r)},useState:function(){for(var t,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];if(!e.currentVmStack||(null===(t=e.currentVmStack)||void 0===t?void 0:t.prevStack))throw Error("Method: useState. The hook can an only be called from the top of the stack");if(!e.hooks)throw Error("Hooks are unavailable for modules");if(n.length<1)throw Error("Method: useState. Required arguments: 'initialState'");var o=n[0],a=e.currentVmStack.hookIndex++,s=e.hooks[a];if(s)return[s.state,s.setState];var l=()=>{var t;return null===(t=e.hooks[a])||void 0===t?void 0:t.state},c=t=>((0,h.isFunction)(t)&&(t=t(l())),e.setReactHook(a,{state:t,setState:c}),t);return[c(o),c]},useEffect:function(){for(var t,r=arguments.length,n=Array(r),i=0;i<r;i++)n[i]=arguments[i];if(!e.currentVmStack||(null===(t=e.currentVmStack)||void 0===t?void 0:t.prevStack))throw Error("Method: useEffect. The hook can an only be called from the top of the stack");if(!e.hooks)throw Error("Hooks are unavailable for modules");if(n.length<1)throw Error("Method: useEffect. Required arguments: 'setup'. Optional: 'dependencies'");var o=n[0];if(!(0,h.isFunction)(o))throw Error("Method: useEffect. The first argument 'setup' must be a function");var a=e.currentVmStack.hookIndex++,s=n[1],l=e.hooks[a];if(l){var c=l.dependencies;if(void 0!==c&&(0,h.deepEqual)(c,s))return}var u=null==l?void 0:l.cleanup;(0,h.isFunction)(u)&&u(),e.setReactHook(a,{cleanup:o(),dependencies:s})},useMemo:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return i("useMemo",...t)},useCallback:function(){for(var e=arguments.length,t=Array(e),r=0;r<e;r++)t[r]=arguments[r];return i("useCallback",...t)},setTimeout:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=(0,s._)(r,2),o=i[0],a=setTimeout(()=>{if(!!e.alive)o()},i[1]);return e.timeouts.add(a),a},setInterval:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];if(e.intervals.size>=16)throw Error("Too many intervals. Max allowed: 16");var i=(0,s._)(r,2),o=i[0],a=setInterval(()=>{if(!!e.alive)o()},i[1]);return e.intervals.add(a),a},clearTimeout:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];return e.timeouts.delete(i),clearTimeout(i)},clearInterval:function(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++)r[n]=arguments[n];var i=r[0];return e.intervals.delete(i),clearInterval(i)}})}cachedPromise(e,t){return(0,h.deepCopy)(e({onInvalidate:()=>{this.alive&&this.refreshCache()},subscribe:!!t}))}cachedSocialGet(e,t,r,n,i){return e=Array.isArray(e)?e:[e],this.cachedPromise(o=>this.cache.socialGet(this.near,e,t,r,n,o,i),null==n?void 0:n.subscribe)}storageGet(e,t){return this.cachedPromise(r=>this.cache.localStorageGet(e,t,r))}storageSet(e,t,r){return this.cache.localStorageSet(e,t,r)}cachedSocialKeys(e,t,r,n){return e=Array.isArray(e)?e:[e],this.cachedPromise(i=>this.cache.cachedViewCall(this.near,this.near.config.contractName,"keys",{keys:e,options:r},t,i,n),null==r?void 0:r.subscribe)}asyncNearView(e,t,r,n){return this.near.viewCall(e,t,r,n)}cachedEthersCall(e,t,r,n){return this.cachedPromise(r=>this.cache.cachedEthersCall(this.ethersProvider,e,t,r,n),r)}cachedNearView(e,t,r,n,i,o){return this.cachedPromise(i=>this.cache.cachedViewCall(this.near,e,t,r,n,i,o),i)}cachedNearBlock(e,t,r){return this.cachedPromise(t=>this.cache.cachedBlock(this.near,e,t,r),t)}asyncFetch(e,t){return this.cache.asyncFetch(e,t)}cachedFetch(e,t,r){return this.cachedPromise(n=>this.cache.cachedFetch(e,t,n,r),null==t?void 0:t.subscribe)}cachedIndex(e,t,r,n){return this.cachedPromise(i=>this.cache.socialIndex(this.near,e,t,r,i,n),null==r?void 0:r.subscribe)}useCache(e,t,r,n){return this.cachedPromise(r=>this.cache.cachedCustomPromise({widgetSrc:this.widgetSrc,dataKey:t},e,r,n),null==r?void 0:r.subscribe)}socialSet(e,t){return this.requestCommit({data:e,force:null==t?void 0:t.force,onCommit:null==t?void 0:t.onCommit,onCancel:null==t?void 0:t.onCancel})}vmRequire(e){var t,r=(0,h.computeSrcOrCode)(e,null,this.widgetConfigs);if(null==r?void 0:r.src){var n=r.src,i=(0,s._)(n.split("@"),2),o=i[0],a=i[1];if(!(t=this.cachedSocialGet(o.toString(),!1,a,void 0)))return t}else(null==r?void 0:r.code)&&(t=r.code);return this.getVmInstance(t,null==r?void 0:r.src).execCode({context:(0,h.deepCopy)(this.context),forwardedProps:this.forwardedProps})}getVmInstance(e,t){if(this.vmInstances.has(e)){var r=this.vmInstances.get(e);if(r.rawCode===e)return r;r.stop(),this.vmInstances.delete(e)}var n=new e$({near:this.near,rawCode:e,cache:this.cache,refreshCache:this.refreshCache,confirmTransactions:this.confirmTransactions,depth:this.depth+1,widgetSrc:t,requestCommit:this.requestCommit,version:this.version,widgetConfigs:this.widgetConfigs,ethersProviderContext:this.ethersProviderContext,isModule:!0});return this.vmInstances.set(e,n),n}renderCode(e){if(this.compileError){var t=this.compileError,r=t.message,n=t.stack;return this.near.config.errorCallback({scope:h.ErrorScopes.Compilation,message:r}),u().createElement("div",{className:"alert alert-danger"},"Compilation error:",u().createElement("pre",null,r),u().createElement("pre",null,n))}if(!this.alive){var i="VM is dead";return this.near.config.errorCallback({scope:h.ErrorScopes.Render,message:i}),u().createElement("div",{className:"alert alert-danger"},i)}var o=this.execCode(e);return(0,h.isReactObject)(o)||"string"==typeof o||"number"==typeof o?o:u().createElement("pre",null,JSON.stringify(o,void 0,2))}execCode(e){var t=e.props,r=e.context,n=e.reactState,a=e.forwardedProps;if(this.compileError)throw this.compileError;if(this.depth>=32)return"Too deep";this.gIndex=0;var s=null!=n?n:{},l=s.hooks,c=s.state;this.hooks=l,this.state=(0,o._)((0,i._)({},eS,this.globalFunctions),{window:{location:{get hash(){return window.location.hash},set hash(value){if(""!==value)throw Error("Set `window.location.hash` only accepts an empty string as a value.");history.pushState(value,document.title,window.location.pathname+window.location.search)}}},props:(0,h.isObject)(t)?Object.assign({},t):t,context:r,state:c,get elliptic(){return delete this.elliptic,this.elliptic=T()(_),delete this.elliptic.utils.cachedProperty,this.elliptic}}),this.forwardedProps=a,this.loopLimit=1e6,this.vmStack=new eD(this,void 0,this.state);var u=this.vmStack.executeStatement(this.code);if(null==u?void 0:u.break)throw Error("BreakStatement outside of a loop");if(null==u?void 0:u.continue)throw Error("ContinueStatement outside of a loop");return null==u?void 0:u.result}constructor(e){var t,r=e.near,n=e.rawCode,i=e.setReactState,o=e.cache,a=e.refreshCache,s=e.confirmTransactions,l=e.depth,c=e.widgetSrc,u=e.requestCommit,f=e.version,d=e.widgetConfigs,p=e.ethersProviderContext,g=e.isModule;this.alive=!0,this.isModule=g,this.rawCode=n,this.near=r;try{this.code=eI(n),this.compileError=null}catch(e){this.code=null,this.compileError=e,console.error(e)}if(!this.code){this.alive=!1;return}this.setReactState=i?e=>i({hooks:this.hooks,state:(0,h.isObject)(e)?Object.assign({},e):e}):()=>{throw Error("State is unavailable for modules")},this.setReactHook=i?(e,t)=>{this.hooks[e]=t,i({hooks:this.hooks,state:this.state.state})}:()=>{throw Error("State is unavailable for modules")},this.cache=o,this.refreshCache=a,this.confirmTransactions=s,this.depth=null!=l?l:0,this.widgetSrc=c,this.requestCommit=u,this.version=f,this.cachedStyledComponents=new Map,this.widgetConfigs=d,this.ethersProviderContext=p,this.ethersProvider=(null==p?void 0:p.provider)?new j.ethers.providers.Web3Provider(p.provider):null,this.timeouts=new Set,this.intervals=new Set,this.websockets=[],this.vmInstances=new Map,this.networkId=(null===(t=d.findLast(e=>e&&e.networkId))||void 0===t?void 0:t.networkId)||r.config.networkId,this.globalFunctions=this.initGlobalFunctions()}}},374:function(e){e.exports=require("@radix-ui/react-accordion")},4866:function(e){e.exports=require("@radix-ui/react-alert-dialog")},9693:function(e){e.exports=require("@radix-ui/react-aspect-ratio")},7620:function(e){e.exports=require("@radix-ui/react-avatar")},7093:function(e){e.exports=require("@radix-ui/react-checkbox")},9539:function(e){e.exports=require("@radix-ui/react-collapsible")},5766:function(e){e.exports=require("@radix-ui/react-context-menu")},3363:function(e){e.exports=require("@radix-ui/react-dialog")},8532:function(e){e.exports=require("@radix-ui/react-dropdown-menu")},599:function(e){e.exports=require("@radix-ui/react-hover-card")},8367:function(e){e.exports=require("@radix-ui/react-label")},4733:function(e){e.exports=require("@radix-ui/react-menubar")},9822:function(e){e.exports=require("@radix-ui/react-navigation-menu")},8456:function(e){e.exports=require("@radix-ui/react-popover")},8375:function(e){e.exports=require("@radix-ui/react-progress")},3714:function(e){e.exports=require("@radix-ui/react-radio-group")},5213:function(e){e.exports=require("@radix-ui/react-scroll-area")},4034:function(e){e.exports=require("@radix-ui/react-select")},1358:function(e){e.exports=require("@radix-ui/react-separator")},8034:function(e){e.exports=require("@radix-ui/react-slider")},131:function(e){e.exports=require("@radix-ui/react-switch")},9324:function(e){e.exports=require("@radix-ui/react-tabs")},2479:function(e){e.exports=require("@radix-ui/react-toast")},7249:function(e){e.exports=require("@radix-ui/react-toggle")},6404:function(e){e.exports=require("@radix-ui/react-toggle-group")},1669:function(e){e.exports=require("@radix-ui/react-toolbar")},999:function(e){e.exports=require("@radix-ui/react-tooltip")},6366:function(e){e.exports=require("@swc/helpers/_/_async_to_generator")},3954:function(e){e.exports=require("@swc/helpers/_/_object_spread")},2332:function(e){e.exports=require("@swc/helpers/_/_object_spread_props")},6310:function(e){e.exports=require("@swc/helpers/_/_object_without_properties")},6149:function(e){e.exports=require("@swc/helpers/_/_sliced_to_array")},6282:function(e){e.exports=require("@swc/helpers/_/_ts_generator")},5303:function(e){e.exports=require("@swc/helpers/_/_type_of")},9631:function(e){e.exports=require("acorn")},2190:function(e){e.exports=require("acorn-jsx")},1238:function(e){e.exports=require("base64-js")},2575:function(e){e.exports=require("big.js")},2961:function(e){e.exports=require("bn.js")},6988:function(e){e.exports=require("deep-equal")},1320:function(e){e.exports=require("dompurify")},6119:function(e){e.exports=require("elliptic")},1982:function(e){e.exports=require("ethers")},857:function(e){e.exports=require("idb")},5665:function(e){e.exports=require("ieee754")},7798:function(e){e.exports=require("iframe-resizer-react")},2607:function(e){e.exports=require("local-storage")},9548:function(e){e.exports=require("lodash.clonedeep")},5673:function(e){e.exports=require("mdast-util-find-and-replace")},754:function(e){e.exports=require("nanoid")},7606:function(e){e.exports=require("near-api-js")},358:function(e){e.exports=require("react-bootstrap")},9723:function(e){e.exports=require("react-bootstrap-typeahead")},2899:function(e){e.exports=require("react-bootstrap/Alert")},9306:function(e){e.exports=require("react-bootstrap/Modal")},972:function(e){e.exports=require("react-bootstrap/Toast")},871:function(e){e.exports=require("react-bootstrap/ToastContainer")},5184:function(e){e.exports=require("react-error-boundary")},8901:function(e){e.exports=require("react-files")},5030:function(e){e.exports=require("react-infinite-scroller")},3702:function(e){e.exports=require("react-markdown")},6175:function(e){e.exports=require("react-singleton-hook")},727:function(e){e.exports=require("react-syntax-highlighter")},563:function(e){e.exports=require("react-syntax-highlighter/dist/esm/styles/prism")},1295:function(e){e.exports=require("react-uuid")},8344:function(e){e.exports=require("remark-gfm")},7518:function(e){e.exports=require("styled-components")},1707:function(e){e.exports=require("tweetnacl")},359:function(t){t.exports=e}},r={};function n(e){var i=r[e];if(void 0!==i)return i.exports;var o=r[e]={exports:{}};return t[e](o,o.exports,n),o.exports}n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,{a:t}),t},n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var i={};return(()=>{n.r(i),n.d(i,{CommitButton:function(){return l.A},EthersProviderContext:function(){return c.S},Widget:function(){return o.$},useAccount:function(){return t.mA},useAccountId:function(){return t.FE},useCache:function(){return a.Y},useInitNear:function(){return r.OC},useNear:function(){return r.Tk},utils:function(){return s}});var e=n(359);var t=n(400),r=n(8044),o=n(8930),a=n(2935),s=n(8818),l=n(926),c=n(56)})(),i})());